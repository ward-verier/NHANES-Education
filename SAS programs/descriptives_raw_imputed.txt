/* create domains */
libname mike 'C:\Users\wardm1\nhanes';
run;


data nhanes3_prep;
set mike.nhanes3_step5;
if eligstat=1 and permth_int ne . and permth_exm ne . then dur=permth_exm;
else if eligstat=1 and permth_int=. and permth_exm ne . then dur=permth_exm;
else if eligstat=1 and permth_int ne . and permth_exm=. then dur=permth_int;
else if eligstat=1 and permth_int=. and permth_exm=. then dur=.;
else if eligstat=0 then dur=.;
run;
data prep2;
set nhanes3_prep;
if dur ne . and dur ge 84 then dur2=84;
else if dur ne . and dur lt 84 then dur2=dur;
else if dur=. then dur2=.;
run;


data mike.nhanes3_domain2;
set prep2;
if dur ne . and edlevel ne . and male=1 and (age ge 20 and age lt 40) then domain_m1=1;
else if dur=. or edlevel=. or male=0 or (male=1 and edlevel ne . and age lt 20) or (male=1 and edlevel ne . 
and age ge 40) then domain_m1=0;
if male=1 and dur ne . and edlevel ne . and (age ge 40 and age lt 60) then domain_m2=1;
else if male=0 or dur=. or edlevel=. or (male=1 and edlevel ne . and age lt 40) or (male=1 and edlevel ne . 
and age ge 60) then domain_m2=0;
if male=1 and dur ne . and edlevel ne . and (age ge 60) then domain_m3=1;
else if male=0 or dur=. or edlevel=. or (male=1 and edlevel ne . and age lt 60) then domain_m3=0;

if male=0 and dur ne . and edlevel ne . and (age ge 20 and age lt 40) then domain_f1=1;
else if male=1 or dur=. or edlevel=. or (male=0 and edlevel ne . and age lt 20) or (male=0 and edlevel ne . 
and age ge 40) then domain_f1=0;
if male=0 and dur ne . and edlevel ne . and (age ge 40 and age lt 60) then domain_f2=1;
else if male=1 or dur=. or edlevel=. or (male=0 and edlevel ne . and age lt 40) or (male=0 and edlevel ne . 
and age ge 60) then domain_f2=0;
if male=0 and dur ne . and edlevel ne . and (age ge 60) then domain_f3=1;
else if male=1 or dur=. or edlevel=. or (male=0 and edlevel ne . and age lt 60) then domain_f3=0;

if mortstat=1 and dur le 84 then dead=1;
else if (mortstat=1 and (dur gt 84 or dur2=.)) or mortstat=0 then dead=0;

if bmi ne . and bmi lt 18.5 then bmi_cat=1;
else if bmi ne . and (bmi ge 18.5 and bmi lt 25.0) then bmi_cat=2;
else if bmi ne . and (bmi ge 25.0 and bmi lt 30.0) then bmi_cat=3;
else if bmi ne . and bmi ge 30.0 then bmi_cat=4;
else if bmi=. then bmi_cat=.;

if waist ne . and ((male=0 and waist gt 88) or (male=1 and waist gt 102)) then waist_cat=1;
else if waist ne . and ((male=0 and waist le 88) or (male=1 and waist le 102)) then waist_cat=0;
else if waist=. then waist_cat=.;

if poverty_ratio ne . and poverty_ratio lt 2.0 then poverty_cat=1;
else if poverty_ratio ne . and (poverty_ratio ge 2.0 and poverty_ratio lt 4.0) then poverty_cat=2;
else if poverty_ratio ne . and poverty_ratio ge 4.0 then poverty_cat=3;
else if poverty_ratio=. then poverty_cat=.;
run;



data mike.nhanes3_domain3;
set mike.nhanes3_domain2;
if wtpfex6=0 then delete;
run;


/* crude percent missing */
proc sort data=mike.nhanes3_domain3;
by domain_m3;
run;
proc means data=mike.nhanes3_domain3 n nmiss mean;
var age bmi waist poverty_ratio;
by domain_m3;
run;
data m3miss;
set mike.nhanes3_domain3;
if domain_m3=1;
run;
proc freq data=m3miss;
tables male edlevel race married smoke_3cat_strict alcohol_cat genhealth chf cva asthma cancer
dm_sr htn_sr chol_sr ami diab highbp copd ckd hyperlipid smoke_4cat ;
run;


proc sort data=mike.nhanes3_domain3;
by domain_f3;
run;
proc means data=mike.nhanes3_domain3 n nmiss mean;
var age bmi waist poverty_ratio;
by domain_f3;
run;
data f3miss;
set mike.nhanes3_domain3;
if domain_f3=1;
run;
proc freq data=f3miss;
tables male edlevel race married smoke_3cat_strict alcohol_cat genhealth chf cva asthma cancer
dm_sr htn_sr chol_sr ami diab highbp copd ckd hyperlipid smoke_4cat ;
run;


data f3missdrink;
set f3miss;
if alcohol_cat=.;
run;
proc print data=f3missdrink;
var ever_drinker curr_drinker alcohol_days binge_pastyr;
run;


/* end */




data n0911;
set mike.nhanes09_step5 mike.nhanes11_step5;
run;


data nhanes0912_prep;
set n0911;
if eligstat=1 and permth_int ne . and permth_exm ne . then dur=permth_exm;
else if eligstat=1 and permth_int=. and permth_exm ne . then dur=permth_exm;
else if eligstat=1 and permth_int ne . and permth_exm=. then dur=permth_int;
else if eligstat=1 and permth_int=. and permth_exm=. then dur=.;
else if eligstat=0 then dur=.;
run;
data p2;
set nhanes0912_prep;
if dur ne . and dur ge 84 then dur2=84;
else if dur ne . and dur lt 84 then dur2=dur;
else if dur=. then dur2=.;
run;



data mike.nhanes0912_domain2;
set p2;
if male=1 and dur ne . and edlevel ne . and (age ge 20 and age lt 40) then domain_m1=1;
else if male=0 or dur=. or edlevel=. or (male=1 and edlevel ne . and age lt 20) or (male=1 and edlevel ne . 
and age ge 40) then domain_m1=0;
if male=1 and dur ne . and edlevel ne . and (age ge 40 and age lt 60) then domain_m2=1;
else if male=0 or dur=. or edlevel=. or (male=1 and edlevel ne . and age lt 40) or (male=1 and edlevel ne . 
and age ge 60) then domain_m2=0;
if male=1 and dur ne . and edlevel ne . and (age ge 60) then domain_m3=1;
else if male=0 or dur=. or edlevel=. or (male=1 and edlevel ne . and age lt 60) then domain_m3=0;

if male=0 and dur ne . and edlevel ne . and (age ge 20 and age lt 40) then domain_f1=1;
else if male=1 or dur=. or edlevel=. or (male=0 and edlevel ne . and age lt 20) or (male=0 and edlevel ne . 
and age ge 40) then domain_f1=0;
if male=0 and dur ne . and edlevel ne . and (age ge 40 and age lt 60) then domain_f2=1;
else if male=1 or dur=. or edlevel=. or (male=0 and edlevel ne . and age lt 40) or (male=0 and edlevel ne . 
and age ge 60) then domain_f2=0;
if male=0 and dur ne . and edlevel ne . and (age ge 60) then domain_f3=1;
else if male=1 or dur=. or edlevel=. or (male=0 and edlevel ne . and age lt 60) then domain_f3=0;


if mortstat=1 and dur le 84 then dead=1;
else if (mortstat=1 and (dur gt 84 or dur=.)) or mortstat=0 then dead=0;

if bmi ne . and bmi lt 18.5 then bmi_cat=1;
else if bmi ne . and (bmi ge 18.5 and bmi lt 25.0) then bmi_cat=2;
else if bmi ne . and (bmi ge 25.0 and bmi lt 30.0) then bmi_cat=3;
else if bmi ne . and bmi ge 30.0 then bmi_cat=4;
else if bmi=. then bmi_cat=.;

if waist ne . and ((male=0 and waist gt 88) or (male=1 and waist gt 102)) then waist_cat=1;
else if waist ne . and ((male=0 and waist le 88) or (male=1 and waist le 102)) then waist_cat=0;
else if waist=. then waist_cat=.;

if poverty_ratio ne . and poverty_ratio lt 2.0 then poverty_cat=1;
else if poverty_ratio ne . and (poverty_ratio ge 2.0 and poverty_ratio lt 4.0) then poverty_cat=2;
else if poverty_ratio ne . and poverty_ratio ge 4.0 then poverty_cat=3;
else if poverty_ratio=. then poverty_cat=.;

weight4y=weight2y/2;
run;






/* crude percent missing */
proc sort data=mike.nhanes0912_domain2;
by domain_m3;
run;
proc means data=mike.nhanes0912_domain2 n nmiss mean;
var age bmi waist poverty_ratio;
by domain_m3;
run;
data m3miss;
set mike.nhanes0912_domain2;
if domain_m3=1;
run;
proc freq data=m3miss;
tables male edlevel race married smoke_3cat_strict alcohol_cat genhealth chf cva asthma cancer
dm_sr htn_sr chol_sr ami diab highbp copd ckd hyperlipid ;
run;


proc sort data=mike.nhanes0912_domain2;
by domain_f3;
run;
proc means data=mike.nhanes0912_domain2 n nmiss mean;
var age bmi waist poverty_ratio;
by domain_f3;
run;
data f3miss;
set mike.nhanes0912_domain2;
if domain_f3=1;
run;
proc freq data=f3miss;
tables male edlevel race married smoke_3cat_strict alcohol_cat genhealth chf cva asthma cancer
dm_sr htn_sr chol_sr ami diab highbp copd ckd hyperlipid ;
run;




/* end */







/*descriptives unweighted and weighted */
proc sort data=mike.nhanes3_domain3;
by domain_m1;
run;
proc freq data=mike.nhanes3_domain3;
tables edlevel race mortstat dead;
by domain_m1;
title 'Unweighted Men 20-39';
title2 'NHANES III';
run;
proc means data=mike.nhanes3_domain3 n mean min max median;
var age permth_exm dur;
by domain_m1;
title 'Unweighted Men 20-39';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m1*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 20-39';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m1;
title 'Weighted Men 20-39';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m1*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 20-39';
title2 'NHANES III';
run;
proc sort data=mike.nhanes3_domain3;
by edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m1;
by edlevel;
title 'Weighted Men 20-39';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m1*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl ;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 20-39';
title2 'NHANES III';
run;
proc sort data=mike.nhanes3_domain3;
by poverty_cat;
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m1;
by poverty_cat;
title 'Weighted Men 20-39';
title2 'NHANES III';
run;




proc sort data=mike.nhanes3_domain3;
by domain_m2;
run;
proc freq data=mike.nhanes3_domain3;
tables edlevel race mortstat dead;
by domain_m2;
title 'Unweighted Men 40-59';
title2 'NHANES III';
run;
proc means data=mike.nhanes3_domain3 n mean min max median;
var age permth_exm dur;
by domain_m2;
title 'Unweighted Men 40-59';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m2*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 40-59';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m2;
title 'Weighted Men 40-59';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m2*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 40-59';
title2 'NHANES III';
run;
proc sort data=mike.nhanes3_domain3;
by edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m2;
by edlevel;
title 'Weighted Men 40-59';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m2*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 40-59';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m2;
by poverty_cat;
title 'Weighted Men 40-59';
title2 'NHANES III';
run;





proc sort data=mike.nhanes3_domain3;
by domain_m3;
run;
proc freq data=mike.nhanes3_domain3;
tables edlevel race mortstat dead;
by domain_m3;
title 'Unweighted Men 60+';
title2 'NHANES III';
run;
proc means data=mike.nhanes3_domain3 n mean min max median;
var age permth_exm dur;
by domain_m3;
title 'Unweighted Men 60+';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m3*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm_sr htn_sr chol_sr ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat diab highbp copd ckd hyperlipid)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 60+';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m3;
title 'Weighted Men 60+';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m3*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm_sr htn_sr chol_sr ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat diab highbp copd ckd hyperlipid)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 60+';
title2 'NHANES III';
run;
proc sort data=mike.nhanes3_domain3;
by edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m3;
by edlevel;
title 'Weighted Men 60+';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m3*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted Men 60+';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_m3;
by poverty_cat;
title 'Weighted Men 60+';
title2 'NHANES III';
run;







proc sort data=mike.nhanes3_domain3;
by domain_f1;
run;
proc freq data=mike.nhanes3_domain3;
tables edlevel race mortstat dead;
by domain_f1;
title 'Unweighted women 20-39';
title2 'NHANES III';
run;
proc means data=mike.nhanes3_domain3 n mean min max median;
var age permth_exm dur2;
by domain_f1;
title 'Unweighted women 20-39';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f1*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 20-39';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f1;
title 'Weighted women 20-39';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f1*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 20-39';
title2 'NHANES III';
run;
proc sort data=mike.nhanes3_domain3;
by edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f1;
by edlevel;
title 'Weighted women 20-39';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f1*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 20-39';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f1;
by poverty_cat;
title 'Weighted women 20-39';
title2 'NHANES III';
run;






proc sort data=mike.nhanes3_domain3;
by domain_f2;
run;
proc freq data=mike.nhanes3_domain3;
tables edlevel race mortstat dead;
by domain_f2;
title 'Unweighted women 40-59';
title2 'NHANES III';
run;
proc means data=mike.nhanes3_domain3 n mean min max median;
var age permth_exm dur;
by domain_f2;
title 'Unweighted women 40-59';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f2*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 40-59';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f2;
title 'Weighted women 40-59';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f2*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 40-59';
title2 'NHANES III';
run;
proc sort data=mike.nhanes3_domain3;
by edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f2;
by edlevel;
title 'Weighted women 40-59';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f2*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 40-59';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f2;
by poverty_cat;
title 'Weighted women 40-59';
title2 'NHANES III';
run;






proc sort data=mike.nhanes3_domain3;
by domain_f3;
run;
proc freq data=mike.nhanes3_domain3;
tables edlevel race mortstat dead;
by domain_f3;
title 'Unweighted women 60+';
title2 'NHANES III';
run;
proc means data=mike.nhanes3_domain3 n mean min max median;
var age permth_exm dur2;
by domain_f3;
title 'Unweighted women 60+';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f3*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm_sr htn_sr chol_sr ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat diab highbp copd ckd hyperlipid)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 60+';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f3;
title 'Weighted women 60+';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f3*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm_sr htn_sr chol_sr ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat diab highbp copd ckd hyperlipid)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 60+';
title2 'NHANES III';
run;
proc sort data=mike.nhanes3_domain3;
by edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f3;
by edlevel;
title 'Weighted women 60+';
title2 'NHANES III';
run;
proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f3*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Weighted women 60+';
title2 'NHANES III';
run;
proc surveymeans data=mike.nhanes3_domain3;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum6;
weight wtpfex6;
cluster psu6;
domain domain_f3;
by poverty_cat;
title 'Weighted women 60+';
title2 'NHANES III';
run;







proc sort data=mike.nhanes0912_domain2;
by domain_m1;
run;
proc freq data=mike.nhanes0912_domain2;
tables edlevel race mortstat dead;
by domain_m1;
title 'Unweighted Men 20-39';
title2 'NHANES 2009-2012';
run;
proc means data=mike.nhanes0912_domain2 n mean min max median;
var age permth_exm dur2;
by domain_m1;
title 'Unweighted Men 20-39';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m1*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 20-39';
title2 'NHANES 2009-2012';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m1;
title 'Weighted Men 20-39';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m1*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 20-39';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m1;
by edlevel;
title 'Weighted Men 20-39';
title2 'NHANES 2009-12';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m1*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 20-39';
title2 'NHANES 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m1;
by poverty_cat;
title 'Weighted Men 20-39';
title2 'NHANES 2009-12';
run;





proc sort data=mike.nhanes0912_domain2;
by domain_m2;
run;
proc freq data=mike.nhanes0912_domain2;
tables edlevel race mortstat dead;
by domain_m2;
title 'Unweighted Men 40-59';
title2 'NHANES 2009-2012';
run;
proc means data=mike.nhanes0912_domain2 n mean min max median;
var age permth_exm dur2;
by domain_m2;
title 'Unweighted Men 40-59';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m2*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 40-59';
title2 'NHANES 2009-2012';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m2;
title 'Weighted Men 40-59';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m2*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 40-59';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m2;
by edlevel;
title 'Weighted Men 40-59';
title2 'NHANES 2009-12';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m2*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 40-59';
title2 'NHANES 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m2;
by poverty_cat;
title 'Weighted Men 40-59';
title2 'NHANES 2009-12';
run;





proc sort data=mike.nhanes0912_domain2;
by domain_m3;
run;
proc freq data=mike.nhanes0912_domain2;
tables edlevel race mortstat dead;
by domain_m3;
title 'Unweighted Men 60+';
title2 'NHANES 2009-2012';
run;
proc means data=mike.nhanes0912_domain2 n mean min max median;
var age permth_exm dur2;
by domain_m3;
title 'Unweighted Men 60+';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m3*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm_sr htn_sr chol_sr ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat diab highbp copd ckd hyperlipid)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 60+';
title2 'NHANES 2009-2012';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m3;
title 'Weighted Men 60+';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m3*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm_sr htn_sr chol_sr ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat diab highbp copd ckd hyperlipid)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 60+';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m3;
by edlevel;
title 'Weighted Men 60+';
title2 'NHANES 2009-12';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m3*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 60+';
title2 'NHANES 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_m3;
by poverty_cat;
title 'Weighted Men 60+';
title2 'NHANES 2009-12';
run;





proc sort data=mike.nhanes0912_domain2;
by domain_f1;
run;
proc freq data=mike.nhanes0912_domain2;
tables edlevel race mortstat dead;
by domain_f1;
title 'Unweighted women 20-39';
title2 'NHANES 2009-2012';
run;
proc means data=mike.nhanes0912_domain2 n mean min max median;
var age permth_exm dur2;
by domain_f1;
title 'Unweighted women 20-39';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f1*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 20-39';
title2 'NHANES 2009-2012';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f1;
title 'Weighted women 20-39';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f1*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 20-39';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f1;
by edlevel;
title 'Weighted women 20-39';
title2 'NHANES 2009-12';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f1*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 20-39';
title2 'NHANES 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f1;
by poverty_cat;
title 'Weighted women 20-39';
title2 'NHANES 2009-12';
run;







proc sort data=mike.nhanes0912_domain2;
by domain_f2;
run;
proc freq data=mike.nhanes0912_domain2;
tables edlevel race mortstat dead;
by domain_f2;
title 'Unweighted women 40-59';
title2 'NHANES 2009-2012';
run;
proc means data=mike.nhanes0912_domain2 n mean min max median;
var age permth_exm dur2;
by domain_f2;
title 'Unweighted women 40-59';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f2*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 40-59';
title2 'NHANES 2009-2012';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f2;
title 'Weighted women 40-59';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f2*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 40-59';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f2;
by edlevel;
title 'Weighted women 40-59';
title2 'NHANES 2009-12';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f2*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 40-59';
title2 'NHANES 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f2;
by poverty_cat;
title 'Weighted women 40-59';
title2 'NHANES 2009-12';
run;





proc sort data=mike.nhanes0912_domain2;
by domain_f3;
run;
proc freq data=mike.nhanes0912_domain2;
tables edlevel race mortstat dead;
by domain_f3;
title 'Unweighted women 60+';
title2 'NHANES 2009-2012';
run;
proc means data=mike.nhanes0912_domain2 n mean min max median;
var age permth_exm dur2;
by domain_f3;
title 'Unweighted women 60+';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f3*(edlevel race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm_sr htn_sr chol_sr ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat diab highbp copd ckd hyperlipid)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 60+';
title2 'NHANES 2009-2012';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f3;
title 'Weighted women 60+';
title2 'NHANES 2009-2012';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f3*edlevel*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm_sr htn_sr chol_sr ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat poverty_cat diab highbp copd ckd hyperlipid)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 60+';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f3;
by edlevel;
title 'Weighted women 60+';
title2 'NHANES 2009-12';
run;
proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f3*poverty_cat*(race mortstat dead married genhealth chf cva asthma bronch
emph cancer dm htn chol ami f_walk025mi f_walk10 f_stoop f_lift10 f_housework f_meals
f_money f_walkrooms f_stand f_oob f_eat f_dress alcohol_cat smoke_4cat 
smoke_3cat smoke_3cat_strict statin bmi_cat waist_cat)/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted women 60+';
title2 'NHANES 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2;
var age householdsize poverty_ratio bmi waist permth_exm dur2;
stratum stratum;
weight weight4y;
cluster psu;
domain domain_f3;
by poverty_cat;
title 'Weighted women 60+';
title2 'NHANES 2009-12';
run;




/*proportion dead by age group */


proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m1*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted men 20-39';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain3;
by domain_m1 edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3 sum;
var dur2 dead;
by domain_m1 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m1;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain3 ratio clm;
var dur2 dead;
by domain_m1 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m1;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m2*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted men 40-59';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain3;
by domain_m2 edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3 sum;
var dur2 dead;
by domain_m2 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m2;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain3 ratio clm;
var dur2 dead;
by domain_m2 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m2;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes3_domain3;
tables domain_m3*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted men 60+';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain3;
by domain_m3 edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3 sum;
var dur2 dead;
by domain_m3 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m3;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain3 ratio clm;
var dur2 dead;
by domain_m3 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m3;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f1*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted women 20-39';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain3;
by domain_f1 edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3 sum;
var dur2 dead;
by domain_f1 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f1;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain3 ratio clm;
var dur2 dead;
by domain_f1 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f1;
ratio dead/dur2;
run;




proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f2*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted women 40-59';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain3;
by domain_f2 edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3 sum;
var dur2 dead;
by domain_f2 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f2;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain3 ratio clm;
var dur2 dead;
by domain_f2 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f2;
ratio dead/dur2;
run;




proc surveyfreq data=mike.nhanes3_domain3;
tables domain_f3*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted women 60+';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain3;
by domain_f3 edlevel;
run;
proc surveymeans data=mike.nhanes3_domain3 sum;
var dur2 dead;
by domain_f3 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f3;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain3 ratio clm;
var dur2 dead;
by domain_f3 edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f3;
ratio dead/dur2;
run;






proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m1*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted men 20-39';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by domain_m1 edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2 sum;
var dur2 dead;
by domain_m1 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m1;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by domain_m1 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m1;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m2*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted men 40-59';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by domain_m2 edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2 sum;
var dur2 dead;
by domain_m2 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m2;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by domain_m2 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m2;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m3*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted men 60+';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by domain_m3 edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2 sum;
var dur2 dead;
by domain_m3 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by domain_m3 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f1*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted women 20-39';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by domain_f1 edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2 sum;
var dur2 dead;
by domain_f1 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f1;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by domain_f1 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f1;
ratio dead/dur2;
run;




proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f2*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted women 40-59';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by domain_f2 edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2 sum;
var dur2 dead;
by domain_f2 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f2;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by domain_f2 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f2;
ratio dead/dur2;
run;




proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_f3*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted women 60+';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain2;
by domain_f3 edlevel;
run;
proc surveymeans data=mike.nhanes0912_domain2 sum;
var dur2 dead;
by domain_f3 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f3;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by domain_f3 edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f3;
ratio dead/dur2;
run;



proc sort data=mike.nhanes3_domain3;
by domain_m1 edlevel race;
run;
proc freq data=mike.nhanes3_domain3;
tables domain_m1*edlevel*race;
run;



/*race proportions in Nhanes 3 for standardization */

data race_m1_ed1;
input race _pspct_;
cards;
1 0.0468
2 0.0774
3 0.8717
4 0.0041
;
run;
data race_m1_ed2;
input race _pspct_;
cards;
1 0.1841
2 0.3448
3 0.4603
4 0.0108
;
run;
data race_m1_ed3;
input race _pspct_;
cards;
1 0.301
2 0.4078
3 0.2816
4 0.0097
;
run;
data race_m1_ed4;
input race _pspct_;
cards;
1 0.324
2 0.3738
3 0.2773
4 0.0249
;
run;
data race_m1_ed5;
input race _pspct_;
cards;
1 0.5474
2 0.2385
3 0.1572
4 0.0569
;
run;


/* Rates in 2009-12 standardized to Race of Nhanes 3 */

data n0912_m1_ed1;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (edlevel=2 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed1=0;
else if domain_m1=1 and edlevel=1 then domain_ed1=1;
run;
proc surveymeans data=n0912_m1_ed1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed1;
ratio dead/dur2;
poststrata race / pspct=race_m1_ed1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m1_ed2;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed2=0;
else if domain_m1=1 and edlevel=2 then domain_ed2=1;
run;
proc surveymeans data=n0912_m1_ed2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed2;
ratio dead/dur2;
poststrata race / pspct=race_m1_ed2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m1_ed3;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5)) then domain_ed3=0;
else if domain_m1=1 and edlevel=3 then domain_ed3=1;
run;
proc surveymeans data=n0912_m1_ed3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed3;
ratio dead/dur2;
poststrata race / pspct=race_m1_ed3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m1_ed4;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5)) then domain_ed4=0;
else if domain_m1=1 and edlevel=4 then domain_ed4=1;
run;
proc surveymeans data=n0912_m1_ed4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed4;
ratio dead/dur2;
poststrata race / pspct=race_m1_ed4;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;



data n0912_m1_ed5;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4)) then domain_ed5=0;
else if domain_m1=1 and edlevel=5 then domain_ed5=1;
run;
proc surveymeans data=n0912_m1_ed5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed5;
ratio dead/dur2;
poststrata race / pspct=race_m1_ed5;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;





proc freq data=mike.nhanes3_domain3;
tables domain_m2*edlevel*race;
run;


data race_m2_ed1;
input race _pspct_;
cards;
1 0.1522
2 0.1978
3 0.6326
4 0.0174
;
run;
data race_m2_ed2;
input race _pspct_;
cards;
1 0.307
2 0.4367
3 0.25
4 0.0063
;
run;
data race_m2_ed3;
input race _pspct_;
cards;
1 0.4477
2 0.3413
3 0.2024
4 0.0086
;
run;
data race_m2_ed4;
input race _pspct_;
cards;
1 0.4759
2 0.2681
3 0.2349
4 0.0211
;
run;
data race_m2_ed5;
input race _pspct_;
cards;
1 0.6927
2 0.1671
3 0.1051
4 0.0351
;
run;


data n0912_m2_ed1;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (edlevel=2 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed1=0;
else if domain_m2=1 and edlevel=1 then domain_ed1=1;
run;
proc surveymeans data=n0912_m2_ed1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed1;
ratio dead/dur2;
poststrata race / pspct=race_m2_ed1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m2_ed2;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed2=0;
else if domain_m2=1 and edlevel=2 then domain_ed2=1;
run;
proc surveymeans data=n0912_m2_ed2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed2;
ratio dead/dur2;
poststrata race / pspct=race_m2_ed2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m2_ed3;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5)) then domain_ed3=0;
else if domain_m2=1 and edlevel=3 then domain_ed3=1;
run;
proc surveymeans data=n0912_m2_ed3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed3;
ratio dead/dur2;
poststrata race / pspct=race_m2_ed3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m2_ed4;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5)) then domain_ed4=0;
else if domain_m2=1 and edlevel=4 then domain_ed4=1;
run;
proc surveymeans data=n0912_m2_ed4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed4;
ratio dead/dur2;
poststrata race / pspct=race_m2_ed4;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;



data n0912_m2_ed5;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4)) then domain_ed5=0;
else if domain_m2=1 and edlevel=5 then domain_ed5=1;
run;
proc surveymeans data=n0912_m2_ed5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed5;
ratio dead/dur2;
poststrata race / pspct=race_m2_ed5;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;







proc freq data=mike.nhanes3_domain3;
tables domain_m3*edlevel*race;
run;


data race_m3_ed1;
input race _pspct_;
cards;
1 0.3794
2 0.2466
3 0.364
4 0.01
;
run;
data race_m3_ed2;
input race _pspct_;
cards;
1 0.6106
2 0.238
3 0.1442
4 0.0072
;
run;
data race_m3_ed3;
input race _pspct_;
cards;
1 0.6863
2 0.1667
3 0.1314
4 0.0156
;
run;
data race_m3_ed4;
input race _pspct_;
cards;
1 0.7448
2 0.1757
3 0.0669
4 0.0126
;
run;
data race_m3_ed5;
input race _pspct_;
cards;
1 0.852
2 0.0757
3 0.0526
4 0.0197
;
run;



data n0912_m3_ed1;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (edlevel=2 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed1=0;
else if domain_m3=1 and edlevel=1 then domain_ed1=1;
run;
proc surveymeans data=n0912_m3_ed1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed1;
ratio dead/dur2;
poststrata race / pspct=race_m3_ed1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m3_ed2;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed2=0;
else if domain_m3=1 and edlevel=2 then domain_ed2=1;
run;
proc surveymeans data=n0912_m3_ed2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed2;
ratio dead/dur2;
poststrata race / pspct=race_m3_ed2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m3_ed3;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5)) then domain_ed3=0;
else if domain_m3=1 and edlevel=3 then domain_ed3=1;
run;
proc surveymeans data=n0912_m3_ed3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed3;
ratio dead/dur2;
poststrata race / pspct=race_m3_ed3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_m3_ed4;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5)) then domain_ed4=0;
else if domain_m3=1 and edlevel=4 then domain_ed4=1;
run;
proc surveymeans data=n0912_m3_ed4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed4;
ratio dead/dur2;
poststrata race / pspct=race_m3_ed4;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;



data n0912_m3_ed5;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4)) then domain_ed5=0;
else if domain_m3=1 and edlevel=5 then domain_ed5=1;
run;
proc surveymeans data=n0912_m3_ed5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed5;
ratio dead/dur2;
poststrata race / pspct=race_m3_ed5;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;









proc freq data=mike.nhanes3_domain3;
tables domain_f1*edlevel*race;
run;


data race_f1_ed1;
input race _pspct_;
cards;
1 0.0777
2 0.1043
3 0.8078
4 0.0102
;
run;
data race_f1_ed2;
input race _pspct_;
cards;
1 0.1921
2 0.3841
3 0.4123
4 0.0115
;
run;
data race_f1_ed3;
input race _pspct_;
cards;
1 0.3059
2 0.4096
3 0.2721
4 0.0124
;
run;
data race_f1_ed4;
input race _pspct_;
cards;
1 0.3515
2 0.3896
3 0.2398
4 0.0191
;
run;
data race_f1_ed5;
input race _pspct_;
cards;
1 0.533
2 0.2687
3 0.1706
4 0.0277
;
run;



data n0912_f1_ed1;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (edlevel=2 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed1=0;
else if domain_f1=1 and edlevel=1 then domain_ed1=1;
run;
proc surveymeans data=n0912_f1_ed1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed1;
ratio dead/dur2;
poststrata race / pspct=race_f1_ed1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f1_ed2;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed2=0;
else if domain_f1=1 and edlevel=2 then domain_ed2=1;
run;
proc surveymeans data=n0912_f1_ed2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed2;
ratio dead/dur2;
poststrata race / pspct=race_f1_ed2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f1_ed3;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5)) then domain_ed3=0;
else if domain_f1=1 and edlevel=3 then domain_ed3=1;
run;
proc surveymeans data=n0912_f1_ed3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed3;
ratio dead/dur2;
poststrata race / pspct=race_f1_ed3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f1_ed4;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5)) then domain_ed4=0;
else if domain_f1=1 and edlevel=4 then domain_ed4=1;
run;
proc surveymeans data=n0912_f1_ed4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed4;
ratio dead/dur2;
poststrata race / pspct=race_f1_ed4;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;



data n0912_f1_ed5;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4)) then domain_ed5=0;
else if domain_f1=1 and edlevel=5 then domain_ed5=1;
run;
proc surveymeans data=n0912_f1_ed5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed5;
ratio dead/dur2;
poststrata race / pspct=race_f1_ed5;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;







proc freq data=mike.nhanes3_domain3;
tables domain_f2*edlevel*race;
run;


data race_f2_ed1;
input race _pspct_;
cards;
1 0.1322
2 0.196
3 0.6476
4 0.0242
;
run;
data race_f2_ed2;
input race _pspct_;
cards;
1 0.2995
2 0.4219
3 0.2734
4 0.0052
;
run;
data race_f2_ed3;
input race _pspct_;
cards;
1 0.4738
2 0.3441
3 0.1714
4 0.0107
;
run;
data race_f2_ed4;
input race _pspct_;
cards;
1 0.5168
2 0.2989
3 0.1564
4 0.0279
;
run;
data race_f2_ed5;
input race _pspct_;
cards;
1 0.6019
2 0.2469
3 0.1142
4 0.037
;
run;



data n0912_f2_ed1;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (edlevel=2 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed1=0;
else if domain_f2=1 and edlevel=1 then domain_ed1=1;
run;
proc surveymeans data=n0912_f2_ed1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed1;
ratio dead/dur2;
poststrata race / pspct=race_f2_ed1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f2_ed2;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed2=0;
else if domain_f2=1 and edlevel=2 then domain_ed2=1;
run;
proc surveymeans data=n0912_f2_ed2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed2;
ratio dead/dur2;
poststrata race / pspct=race_f2_ed2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f2_ed3;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5)) then domain_ed3=0;
else if domain_f2=1 and edlevel=3 then domain_ed3=1;
run;
proc surveymeans data=n0912_f2_ed3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed3;
ratio dead/dur2;
poststrata race / pspct=race_f2_ed3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f2_ed4;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5)) then domain_ed4=0;
else if domain_f2=1 and edlevel=4 then domain_ed4=1;
run;
proc surveymeans data=n0912_f2_ed4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed4;
ratio dead/dur2;
poststrata race / pspct=race_f2_ed4;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;



data n0912_f2_ed5;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4)) then domain_ed5=0;
else if domain_f2=1 and edlevel=5 then domain_ed5=1;
run;
proc surveymeans data=n0912_f2_ed5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed5;
ratio dead/dur2;
poststrata race / pspct=race_f2_ed5;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;











proc freq data=mike.nhanes3_domain3;
tables domain_f3*edlevel*race;
run;


data race_f3_ed1;
input race _pspct_;
cards;
1 0.3492
2 0.2367
3 0.3986
4 0.0155
;
run;
data race_f3_ed2;
input race _pspct_;
cards;
1 0.6307
2 0.2432
3 0.1216
4 0.0045
;
run;
data race_f3_ed3;
input race _pspct_;
cards;
1 0.7457
2 0.1563
3 0.0923
4 0.0057
;
run;
data race_f3_ed4;
input race _pspct_;
cards;
1 0.7774
2 0.1528
3 0.0697
4 0.0001
;
run;
data race_f3_ed5;
input race _pspct_;
cards;
1 0.7917
2 0.1481
3 0.0417
4 0.0185
;
run;



data n0912_f3_ed1;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (edlevel=2 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed1=0;
else if domain_f3=1 and edlevel=1 then domain_ed1=1;
run;
proc surveymeans data=n0912_f3_ed1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed1;
ratio dead/dur2;
poststrata race / pspct=race_f3_ed1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f3_ed2;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5)) then domain_ed2=0;
else if domain_f3=1 and edlevel=2 then domain_ed2=1;
run;
proc surveymeans data=n0912_f3_ed2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed2;
ratio dead/dur2;
poststrata race / pspct=race_f3_ed2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f3_ed3;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5)) then domain_ed3=0;
else if domain_f3=1 and edlevel=3 then domain_ed3=1;
run;
proc surveymeans data=n0912_f3_ed3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed3;
ratio dead/dur2;
poststrata race / pspct=race_f3_ed3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;


data n0912_f3_ed4;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5)) then domain_ed4=0;
else if domain_f3=1 and edlevel=4 then domain_ed4=1;
run;
proc surveymeans data=n0912_f3_ed4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed4;
ratio dead/dur2;
poststrata race / pspct=race_f3_ed4;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;



data n0912_f3_ed5;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4)) then domain_ed5=0;
else if domain_f3=1 and edlevel=5 then domain_ed5=1;
run;
proc surveymeans data=n0912_f3_ed5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_ed5;
ratio dead/dur2;
poststrata race / pspct=race_f3_ed5;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;






/* crude mortality race stratified */

data n3_m1_white1;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or (domain_m1=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m1_white1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_white2;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or 
(domain_m1=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m1_white2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_white3;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or 
(domain_m1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m1_white3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_white4;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or 
(domain_m1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m1_white4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_white5;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or 
(domain_m1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m1_white5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;




data n3_m1_black1;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or (domain_m1=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m1_black1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_black2;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or 
(domain_m1=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m1_black2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_black3;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or 
(domain_m1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m1_black3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_black4;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or 
(domain_m1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m1_black4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_black5;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or 
(domain_m1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m1_black5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;






data n3_m1_hisp1;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or (domain_m1=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m1_hisp1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_hisp2;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or 
(domain_m1=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m1_hisp2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_hisp3;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or 
(domain_m1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m1_hisp3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_hisp4;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or 
(domain_m1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m1_hisp4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_hisp5;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or 
(domain_m1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m1_hisp5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;





data n3_m1_other1;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or (domain_m1=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m1_other1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_other2;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or 
(domain_m1=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m1_other2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_other3;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or 
(domain_m1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m1_other3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_other4;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or 
(domain_m1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m1_other4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m1_other5;
set mike.nhanes3_domain3;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or 
(domain_m1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m1_other5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;









data n3_m2_white1;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or (domain_m2=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m2_white1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_white2;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or 
(domain_m2=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m2_white2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_white3;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or 
(domain_m2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m2_white3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_white4;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or 
(domain_m2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m2_white4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_white5;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or 
(domain_m2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m2_white5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;




data n3_m2_black1;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or (domain_m2=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m2_black1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_black2;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or 
(domain_m2=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m2_black2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_black3;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or 
(domain_m2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m2_black3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_black4;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or 
(domain_m2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m2_black4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_black5;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or 
(domain_m2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m2_black5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;






data n3_m2_hisp1;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or (domain_m2=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m2_hisp1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_hisp2;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or 
(domain_m2=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m2_hisp2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_hisp3;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or 
(domain_m2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m2_hisp3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_hisp4;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or 
(domain_m2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m2_hisp4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_hisp5;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or 
(domain_m2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m2_hisp5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;





data n3_m2_other1;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or (domain_m2=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m2_other1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_other2;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or 
(domain_m2=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m2_other2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_other3;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or 
(domain_m2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m2_other3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_other4;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or 
(domain_m2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m2_other4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m2_other5;
set mike.nhanes3_domain3;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or 
(domain_m2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m2_other5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;







data n3_m3_white1;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or (domain_m3=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m3_white1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_white2;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or 
(domain_m3=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m3_white2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_white3;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or 
(domain_m3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m3_white3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_white4;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or 
(domain_m3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m3_white4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_white5;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or 
(domain_m3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m3_white5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;




data n3_m3_black1;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or (domain_m3=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m3_black1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_black2;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or 
(domain_m3=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m3_black2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_black3;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or 
(domain_m3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m3_black3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_black4;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or 
(domain_m3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m3_black4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_black5;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or 
(domain_m3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m3_black5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;






data n3_m3_hisp1;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or (domain_m3=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m3_hisp1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_hisp2;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or 
(domain_m3=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m3_hisp2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_hisp3;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or 
(domain_m3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m3_hisp3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_hisp4;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or 
(domain_m3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m3_hisp4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_hisp5;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or 
(domain_m3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m3_hisp5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;





data n3_m3_other1;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or (domain_m3=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_m3_other1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_other2;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or 
(domain_m3=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_m3_other2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_other3;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or 
(domain_m3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_m3_other3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_other4;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or 
(domain_m3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_m3_other4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_m3_other5;
set mike.nhanes3_domain3;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or 
(domain_m3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_m3_other5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;











data n3_f1_white1;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or (domain_f1=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f1_white1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_white2;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or 
(domain_f1=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f1_white2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_white3;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or 
(domain_f1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f1_white3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_white4;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or 
(domain_f1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f1_white4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_white5;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or 
(domain_f1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f1_white5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;




data n3_f1_black1;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or (domain_f1=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f1_black1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_black2;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or 
(domain_f1=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f1_black2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_black3;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or 
(domain_f1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f1_black3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_black4;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or 
(domain_f1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f1_black4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_black5;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or 
(domain_f1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f1_black5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;






data n3_f1_hisp1;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or (domain_f1=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f1_hisp1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_hisp2;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or 
(domain_f1=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f1_hisp2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_hisp3;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or 
(domain_f1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f1_hisp3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_hisp4;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or 
(domain_f1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f1_hisp4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_hisp5;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or 
(domain_f1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f1_hisp5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;





data n3_f1_other1;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or (domain_f1=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f1_other1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_other2;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or 
(domain_f1=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f1_other2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_other3;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or 
(domain_f1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f1_other3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_other4;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or 
(domain_f1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f1_other4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f1_other5;
set mike.nhanes3_domain3;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or 
(domain_f1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f1_other5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;













data n3_f2_white1;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or (domain_f2=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f2_white1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_white2;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or 
(domain_f2=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f2_white2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_white3;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or 
(domain_f2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f2_white3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_white4;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or 
(domain_f2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f2_white4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_white5;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or 
(domain_f2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f2_white5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;




data n3_f2_black1;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or (domain_f2=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f2_black1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_black2;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or 
(domain_f2=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f2_black2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_black3;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or 
(domain_f2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f2_black3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_black4;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or 
(domain_f2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f2_black4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_black5;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or 
(domain_f2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f2_black5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;






data n3_f2_hisp1;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or (domain_f2=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f2_hisp1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_hisp2;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or 
(domain_f2=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f2_hisp2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_hisp3;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or 
(domain_f2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f2_hisp3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_hisp4;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or 
(domain_f2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f2_hisp4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_hisp5;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or 
(domain_f2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f2_hisp5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;





data n3_f2_other1;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or (domain_f2=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f2_other1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_other2;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or 
(domain_f2=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f2_other2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_other3;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or 
(domain_f2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f2_other3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_other4;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or 
(domain_f2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f2_other4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f2_other5;
set mike.nhanes3_domain3;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or 
(domain_f2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f2_other5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;











data n3_f3_white1;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or (domain_f3=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f3_white1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_white2;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or 
(domain_f3=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f3_white2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_white3;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or 
(domain_f3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f3_white3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_white4;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or 
(domain_f3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f3_white4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_white5;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or 
(domain_f3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f3_white5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;




data n3_f3_black1;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or (domain_f3=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f3_black1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_black2;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or 
(domain_f3=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f3_black2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_black3;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or 
(domain_f3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f3_black3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_black4;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or 
(domain_f3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f3_black4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_black5;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or 
(domain_f3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f3_black5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;






data n3_f3_hisp1;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or (domain_f3=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f3_hisp1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_hisp2;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or 
(domain_f3=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f3_hisp2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_hisp3;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or 
(domain_f3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f3_hisp3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_hisp4;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or 
(domain_f3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f3_hisp4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_hisp5;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or 
(domain_f3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f3_hisp5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;





data n3_f3_other1;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or (domain_f3=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n3_f3_other1 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_other2;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or 
(domain_f3=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n3_f3_other2 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_other3;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or 
(domain_f3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n3_f3_other3 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_other4;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or 
(domain_f3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n3_f3_other4 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;

data n3_f3_other5;
set mike.nhanes3_domain3;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or 
(domain_f3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n3_f3_other5 ratio clm;
var dur2 dead;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_race1;
ratio dead/dur2;
run;












data n9_m1_white1;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or (domain_m1=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m1_white1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_white2;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or 
(domain_m1=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m1_white2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_white3;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or 
(domain_m1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m1_white3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_white4;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or 
(domain_m1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m1_white4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_white5;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=2 or race=3 or race=4)) or 
(domain_m1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m1=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m1_white5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;




data n9_m1_black1;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or (domain_m1=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m1_black1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_black2;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or 
(domain_m1=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m1_black2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_black3;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or 
(domain_m1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m1_black3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_black4;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or 
(domain_m1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m1_black4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_black5;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=3 or race=4)) or 
(domain_m1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m1=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m1_black5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;






data n9_m1_hisp1;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or (domain_m1=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m1_hisp1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_hisp2;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or 
(domain_m1=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m1_hisp2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_hisp3;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or 
(domain_m1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m1_hisp3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_hisp4;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or 
(domain_m1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m1_hisp4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_hisp5;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=4)) or 
(domain_m1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m1=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m1_hisp5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;





data n9_m1_other1;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or (domain_m1=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m1_other1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_other2;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or 
(domain_m1=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m1_other2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_other3;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or 
(domain_m1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m1_other3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_other4;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or 
(domain_m1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m1_other4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m1_other5;
set mike.nhanes0912_domain2;
if domain_m1=0 or (domain_m1=1 and (race=1 or race=2 or race=3)) or 
(domain_m1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m1=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m1_other5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;












data n9_m2_white1;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or (domain_m2=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m2_white1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_white2;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or 
(domain_m2=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m2_white2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_white3;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or 
(domain_m2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m2_white3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_white4;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or 
(domain_m2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m2_white4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_white5;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=2 or race=3 or race=4)) or 
(domain_m2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m2=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m2_white5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;




data n9_m2_black1;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or (domain_m2=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m2_black1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_black2;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or 
(domain_m2=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m2_black2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_black3;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or 
(domain_m2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m2_black3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_black4;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or 
(domain_m2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m2_black4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_black5;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=3 or race=4)) or 
(domain_m2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m2=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m2_black5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;






data n9_m2_hisp1;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or (domain_m2=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m2_hisp1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_hisp2;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or 
(domain_m2=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m2_hisp2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_hisp3;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or 
(domain_m2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m2_hisp3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_hisp4;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or 
(domain_m2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m2_hisp4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_hisp5;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=4)) or 
(domain_m2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m2=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m2_hisp5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;





data n9_m2_other1;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or (domain_m2=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m2_other1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_other2;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or 
(domain_m2=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m2_other2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_other3;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or 
(domain_m2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m2_other3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_other4;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or 
(domain_m2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m2_other4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m2_other5;
set mike.nhanes0912_domain2;
if domain_m2=0 or (domain_m2=1 and (race=1 or race=2 or race=3)) or 
(domain_m2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m2=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m2_other5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;











data n9_m3_white1;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or (domain_m3=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m3_white1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_white2;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or 
(domain_m3=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m3_white2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_white3;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or 
(domain_m3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m3_white3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_white4;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or 
(domain_m3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m3_white4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_white5;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=2 or race=3 or race=4)) or 
(domain_m3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m3=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m3_white5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;




data n9_m3_black1;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or (domain_m3=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m3_black1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_black2;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or 
(domain_m3=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m3_black2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_black3;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or 
(domain_m3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m3_black3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_black4;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or 
(domain_m3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m3_black4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_black5;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=3 or race=4)) or 
(domain_m3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m3=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m3_black5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;






data n9_m3_hisp1;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or (domain_m3=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m3_hisp1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_hisp2;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or 
(domain_m3=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m3_hisp2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_hisp3;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or 
(domain_m3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m3_hisp3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_hisp4;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or 
(domain_m3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m3_hisp4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_hisp5;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=4)) or 
(domain_m3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m3=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m3_hisp5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;





data n9_m3_other1;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or (domain_m3=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_m3_other1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_other2;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or 
(domain_m3=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_m3_other2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_other3;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or 
(domain_m3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_m3_other3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_other4;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or 
(domain_m3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_m3_other4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_m3_other5;
set mike.nhanes0912_domain2;
if domain_m3=0 or (domain_m3=1 and (race=1 or race=2 or race=3)) or 
(domain_m3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_m3=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_m3_other5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;












data n9_f1_white1;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or (domain_f1=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f1_white1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_white2;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or 
(domain_f1=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f1_white2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_white3;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or 
(domain_f1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f1_white3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_white4;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or 
(domain_f1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f1_white4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_white5;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=2 or race=3 or race=4)) or 
(domain_f1=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f1=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f1_white5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;




data n9_f1_black1;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or (domain_f1=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f1_black1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_black2;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or 
(domain_f1=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f1_black2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_black3;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or 
(domain_f1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f1_black3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_black4;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or 
(domain_f1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f1_black4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_black5;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=3 or race=4)) or 
(domain_f1=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f1=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f1_black5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;






data n9_f1_hisp1;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or (domain_f1=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f1_hisp1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_hisp2;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or 
(domain_f1=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f1_hisp2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_hisp3;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or 
(domain_f1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f1_hisp3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_hisp4;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or 
(domain_f1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f1_hisp4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_hisp5;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=4)) or 
(domain_f1=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f1=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f1_hisp5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;





data n9_f1_other1;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or (domain_f1=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f1_other1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_other2;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or 
(domain_f1=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f1_other2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_other3;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or 
(domain_f1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f1_other3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_other4;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or 
(domain_f1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f1_other4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f1_other5;
set mike.nhanes0912_domain2;
if domain_f1=0 or (domain_f1=1 and (race=1 or race=2 or race=3)) or 
(domain_f1=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f1=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f1_other5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;












data n9_f2_white1;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or (domain_f2=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f2_white1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_white2;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or 
(domain_f2=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f2_white2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_white3;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or 
(domain_f2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f2_white3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_white4;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or 
(domain_f2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f2_white4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_white5;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=2 or race=3 or race=4)) or 
(domain_f2=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f2=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f2_white5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;




data n9_f2_black1;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or (domain_f2=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f2_black1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_black2;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or 
(domain_f2=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f2_black2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_black3;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or 
(domain_f2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f2_black3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_black4;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or 
(domain_f2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f2_black4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_black5;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=3 or race=4)) or 
(domain_f2=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f2=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f2_black5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;






data n9_f2_hisp1;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or (domain_f2=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f2_hisp1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_hisp2;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or 
(domain_f2=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f2_hisp2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_hisp3;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or 
(domain_f2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f2_hisp3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_hisp4;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or 
(domain_f2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f2_hisp4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_hisp5;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=4)) or 
(domain_f2=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f2=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f2_hisp5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;





data n9_f2_other1;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or (domain_f2=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f2_other1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_other2;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or 
(domain_f2=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f2_other2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_other3;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or 
(domain_f2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f2_other3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_other4;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or 
(domain_f2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f2_other4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f2_other5;
set mike.nhanes0912_domain2;
if domain_f2=0 or (domain_f2=1 and (race=1 or race=2 or race=3)) or 
(domain_f2=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f2=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f2_other5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;











data n9_f3_white1;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or (domain_f3=1 and race=1 and edlevel gt 1)  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f3_white1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_white2;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or 
(domain_f3=1 and race=1 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f3_white2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_white3;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or 
(domain_f3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f3_white3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_white4;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or 
(domain_f3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f3_white4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_white5;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=2 or race=3 or race=4)) or 
(domain_f3=1 and race=1 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f3=1 and race=1 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f3_white5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;




data n9_f3_black1;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or (domain_f3=1 and race=2 and edlevel gt 1)  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f3_black1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_black2;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or 
(domain_f3=1 and race=2 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f3_black2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_black3;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or 
(domain_f3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f3_black3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_black4;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or 
(domain_f3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f3_black4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_black5;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=3 or race=4)) or 
(domain_f3=1 and race=2 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f3=1 and race=2 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f3_black5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;






data n9_f3_hisp1;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or (domain_f3=1 and race=3 and edlevel gt 1)  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f3_hisp1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_hisp2;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or 
(domain_f3=1 and race=3 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f3_hisp2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_hisp3;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or 
(domain_f3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f3_hisp3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_hisp4;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or 
(domain_f3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f3_hisp4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_hisp5;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=4)) or 
(domain_f3=1 and race=3 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f3=1 and race=3 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f3_hisp5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;





data n9_f3_other1;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or (domain_f3=1 and race=4 and edlevel gt 1)  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=1) then domain_race1=1;
run;
proc surveymeans data=n9_f3_other1 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_other2;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or 
(domain_f3=1 and race=4 and (edlevel=1 or edlevel=3 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=2) then domain_race1=1;
run;
proc surveymeans data=n9_f3_other2 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_other3;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or 
(domain_f3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=4 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=3) then domain_race1=1;
run;
proc surveymeans data=n9_f3_other3 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_other4;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or 
(domain_f3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=5))  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=4) then domain_race1=1;
run;
proc surveymeans data=n9_f3_other4 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;

data n9_f3_other5;
set mike.nhanes0912_domain2;
if domain_f3=0 or (domain_f3=1 and (race=1 or race=2 or race=3)) or 
(domain_f3=1 and race=4 and (edlevel=1 or edlevel=2 or edlevel=3 or edlevel=4))  then domain_race1=0;
else if (domain_f3=1 and race=4 and edlevel=5) then domain_race1=1;
run;
proc surveymeans data=n9_f3_other5 ratio clm;
var dur2 dead;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_race1;
ratio dead/dur2;
run;






/*testing logistics */



proc surveylogistic data=mike.nhanes0912_domain2;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;
proc surveylogistic data=mike.nhanes3_domain2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;




proc surveylogistic data=mike.nhanes0912_domain2;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m2;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;
proc surveylogistic data=mike.nhanes3_domain2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m2;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;




proc surveylogistic data=mike.nhanes0912_domain2;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m1;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;
proc surveylogistic data=mike.nhanes3_domain2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m1;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;







proc surveylogistic data=mike.nhanes0912_domain2;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;

proc surveylogistic data=mike.nhanes3_domain2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;



proc surveylogistic data=mike.nhanes0912_domain2;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f2;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;
proc surveylogistic data=mike.nhanes3_domain2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f2;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;




proc surveylogistic data=mike.nhanes0912_domain2;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;

proc surveylogistic data=mike.nhanes3_domain2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married bmi_cat smoke_4cat_imphigh ;
run;




/* testing survival */

proc surveyphreg data=mike.nhanes3_domain2;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel(ref="3") race(ref=first) married bmi_cat(ref="2") smoke_4cat_imphigh;
model dur2*dead(0)=edlevel age race married bmi_cat smoke_4cat_imphigh/rl;
title 'NHANES III Men 60+';
run;

proc surveyphreg data=mike.nhanes0912_domain2;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel(ref="3") race(ref=first) married bmi_cat(ref="2") smoke_4cat_imphigh;
model dur2*dead(0)=edlevel age race married bmi_cat smoke_4cat_imphigh/rl;
title 'NHANES III Men 60+';
run;



proc surveyphreg data=mike.nhanes3_domain2;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel(ref="3") race(ref=first) married bmi_cat(ref="2") smoke_4cat_imphigh;
model dur2*dead(0)=edlevel age race married bmi_cat smoke_4cat_imphigh/rl;
title 'NHANES III Men 60+';
run;

proc surveyphreg data=mike.nhanes0912_domain2;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel(ref="3") race(ref=first) married bmi_cat(ref="2") smoke_4cat;
model dur2*dead(0)=edlevel age race married bmi_cat smoke_4cat/rl;
title 'NHANES III Men 60+';
run;








/*datasets with imputations */

proc sort data=mike.nhanes3_domain3;
by domain_m3;
run;
proc surveyimpute data=mike.nhanes3_domain3 method=hotdeck(selection=abb) ndonors=5 seed=55643;
id seqn;
class alcohol_cat diab waist_cat bmi_cat highbp married chf cva cancer ami copd ckd smoke_4cat;
var alcohol_cat diab waist_cat bmi_cat highbp married chf cva cancer ami copd ckd smoke_4cat;
cells domain_m3;
output out=testhot ;
run;
proc print data=testhot (obs=20);
run;

proc contents data=testhot;
run;

data mike.nhanes3_domain3_multimp_m3;
set testhot;
if (impindex=0) then do;
do _imputation_=1 to 5;
output;
end;
end;
else do;
 _imputation_=impindex;
 output;
 end;
 proc sort data=mike.nhanes3_domain3_multimp_m3;
 by _imputation_ seqn;
 run;
data mike.nhanes3_domain3_multimp_m3;
set mike.nhanes3_domain3_multimp_m3;
if age lt 60 then agecat=0;
else if age ge 60 and age lt 70 then agecat=1;
else if age ge 70 and age lt 80 then agecat=2;
else if age ge 80 then agecat=3;
run;



proc sort data=mike.nhanes3_domain3;
by domain_f3;
run;
proc surveyimpute data=mike.nhanes3_domain3 method=hotdeck(selection=abb) ndonors=5 seed=55643;
id seqn;
class alcohol_cat diab waist_cat bmi_cat highbp married chf cva cancer ami copd ckd smoke_4cat;
var alcohol_cat diab waist_cat bmi_cat highbp married chf cva cancer ami copd ckd smoke_4cat;
cells domain_f3;
output out=testhotfemale ;
run;
proc print data=testhotf (obs=20);
run;

data mike.nhanes3_domain3_multimp_f3;
set testhotfemale;
if (impindex=0) then do;
do _imputation_=1 to 5;
output;
end;
end;
else do;
 _imputation_=impindex;
 output;
 end;
 proc sort data=mike.nhanes3_domain3_multimp_f3;
 by _imputation_ seqn;
 run;
data mike.nhanes3_domain3_multimp_f3;
set mike.nhanes3_domain3_multimp_f3;
if age lt 60 then agecat=0;
else if age ge 60 and age lt 70 then agecat=1;
else if age ge 70 and age lt 80 then agecat=2;
else if age ge 80 then agecat=3;
run;




proc sort data=mike.nhanes0912_domain2;
by domain_m3;
run;
proc surveyimpute data=mike.nhanes0912_domain2 method=hotdeck(selection=abb) ndonors=5 seed=55643;
id seqn;
class alcohol_cat diab waist_cat bmi_cat highbp married chf cva cancer ami copd ckd smoke_4cat;
var alcohol_cat diab waist_cat bmi_cat highbp married chf cva cancer ami copd ckd smoke_4cat;
cells domain_m3;
output out=testhot9m ;
run;
proc print data=testhot9m (obs=20);
run;

data mike.nhanes0912_domain2_multimp_m3;
set testhot9m;
if (impindex=0) then do;
do _imputation_=1 to 5;
output;
end;
end;
else do;
 _imputation_=impindex;
 output;
 end;
 proc sort data=mike.nhanes0912_domain2_multimp_m3;
 by _imputation_ seqn;
 run;
data mike.nhanes0912_domain2_multimp_m3;
set mike.nhanes0912_domain2_multimp_m3;
if age lt 60 then agecat=0;
else if age ge 60 and age lt 70 then agecat=1;
else if age ge 70 and age lt 80 then agecat=2;
else if age ge 80 then agecat=3;
run;




proc sort data=mike.nhanes0912_domain2;
by domain_f3;
run;
proc surveyimpute data=mike.nhanes0912_domain2 method=hotdeck(selection=abb) ndonors=5 seed=55643;
id seqn;
class alcohol_cat diab waist_cat bmi_cat highbp married chf cva cancer ami copd ckd smoke_4cat;
var alcohol_cat diab waist_cat bmi_cat highbp married chf cva cancer ami copd ckd smoke_4cat;
cells domain_f3;
output out=testhot9f ;
run;
proc print data=testhot9f (obs=20);
run;

data mike.nhanes0912_domain2_multimp_f3;
set testhot9f;
if (impindex=0) then do;
do _imputation_=1 to 5;
output;
end;
end;
else do;
 _imputation_=impindex;
 output;
 end;
 proc sort data=mike.nhanes0912_domain2_multimp_f3;
 by _imputation_ seqn;
 run;
data mike.nhanes0912_domain2_multimp_f3;
set mike.nhanes0912_domain2_multimp_f3;
if age lt 60 then agecat=0;
else if age ge 60 and age lt 70 then agecat=1;
else if age ge 70 and age lt 80 then agecat=2;
else if age ge 80 then agecat=3;
run;







/* Descriptives with Imputed data */



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*alcohol_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where alcohol_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 alcohol_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 alcohol_cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*smoke_4cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where smoke_4cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 smoke_4cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 smoke_4cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*married/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where married ne .;
run;
proc sort data=m3descriptive;
by domain_m3 married _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 married;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*chf/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where chf ne .;
run;
proc sort data=m3descriptive;
by domain_m3 chf _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 chf;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*cva/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where cva ne .;
run;
proc sort data=m3descriptive;
by domain_m3 cva _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 cva;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*cancer/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where cancer ne .;
run;
proc sort data=m3descriptive;
by domain_m3 cancer _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 cancer;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*ami/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where ami ne .;
run;
proc sort data=m3descriptive;
by domain_m3 ami _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 ami;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*diab/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where diab ne .;
run;
proc sort data=m3descriptive;
by domain_m3 diab _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 diab;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*highbp/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where highbp ne .;
run;
proc sort data=m3descriptive;
by domain_m3 highbp _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 highbp;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*copd/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where copd ne .;
run;
proc sort data=m3descriptive;
by domain_m3 copd _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 copd;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*bmi_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where bmi_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 bmi_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*waist_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where waist_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 waist_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 waist_cat;
modeleffects rowpercent;
stderr stderr;
run;






proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*alcohol_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where alcohol_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel alcohol_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel alcohol_cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*smoke_4cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where smoke_4cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel smoke_4cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel smoke_4cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*married/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where married ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel married _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel married;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*chf/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where chf ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel chf _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel chf;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*cva/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where cva ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel cva _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel cva;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*cancer/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where cancer ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel cancer _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel cancer;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*ami/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where ami ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel ami _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel ami;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*diab/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where diab ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel diab _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel diab;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*highbp/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where highbp ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel highbp _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel highbp;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*copd/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where copd ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel copd _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel copd;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*bmi_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where bmi_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel bmi_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*waist_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where waist_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel waist_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel waist_cat;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*ckd/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where waist_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel ckd _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel ckd;
modeleffects rowpercent;
stderr stderr;
run;










proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*alcohol_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where alcohol_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 alcohol_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 alcohol_cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*smoke_4cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where smoke_4cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 smoke_4cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 smoke_4cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*married/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where married ne .;
run;
proc sort data=f3descriptive;
by domain_f3 married _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 married;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*chf/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where chf ne .;
run;
proc sort data=f3descriptive;
by domain_f3 chf _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 chf;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*cva/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where cva ne .;
run;
proc sort data=f3descriptive;
by domain_f3 cva _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 cva;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*cancer/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where cancer ne .;
run;
proc sort data=f3descriptive;
by domain_f3 cancer _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 cancer;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*ami/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where ami ne .;
run;
proc sort data=f3descriptive;
by domain_f3 ami _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 ami;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*diab/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where diab ne .;
run;
proc sort data=f3descriptive;
by domain_f3 diab _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 diab;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*highbp/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where highbp ne .;
run;
proc sort data=f3descriptive;
by domain_f3 highbp _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 highbp;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*copd/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where copd ne .;
run;
proc sort data=f3descriptive;
by domain_f3 copd _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 copd;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*bmi_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where bmi_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 bmi_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*waist_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where waist_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 waist_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 waist_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*bmi_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where waist_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 bmi_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;









proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*alcohol_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where alcohol_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel alcohol_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel alcohol_cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*smoke_4cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where smoke_4cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel smoke_4cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel smoke_4cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*married/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where married ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel married _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel married;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*chf/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where chf ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel chf _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel chf;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*cva/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where cva ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel cva _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel cva;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*cancer/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where cancer ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel cancer _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel cancer;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*ami/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where ami ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel ami _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel ami;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*diab/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where diab ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel diab _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel diab;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*highbp/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where highbp ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel highbp _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel highbp;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*copd/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where copd ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel copd _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel copd;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*bmi_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where bmi_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel bmi_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*waist_cat/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where waist_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel waist_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel waist_cat;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*ckd/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where waist_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel ckd _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel ckd;
modeleffects rowpercent;
stderr stderr;
run;













proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*alcohol_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where alcohol_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 alcohol_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 alcohol_cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*smoke_4cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where smoke_4cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 smoke_4cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 smoke_4cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*married/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where married ne .;
run;
proc sort data=m3descriptive;
by domain_m3 married _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 married;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*chf/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where chf ne .;
run;
proc sort data=m3descriptive;
by domain_m3 chf _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 chf;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*cva/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where cva ne .;
run;
proc sort data=m3descriptive;
by domain_m3 cva _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 cva;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*cancer/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where cancer ne .;
run;
proc sort data=m3descriptive;
by domain_m3 cancer _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 cancer;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*ami/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where ami ne .;
run;
proc sort data=m3descriptive;
by domain_m3 ami _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 ami;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*diab/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where diab ne .;
run;
proc sort data=m3descriptive;
by domain_m3 diab _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 diab;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*highbp/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where highbp ne .;
run;
proc sort data=m3descriptive;
by domain_m3 highbp _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 highbp;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*copd/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where copd ne .;
run;
proc sort data=m3descriptive;
by domain_m3 copd _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 copd;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*bmi_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where bmi_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 bmi_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*waist_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where waist_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 waist_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 waist_cat;
modeleffects rowpercent;
stderr stderr;
run;






proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*alcohol_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where alcohol_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel alcohol_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel alcohol_cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*smoke_4cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where smoke_4cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel smoke_4cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel smoke_4cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*married/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where married ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel married _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel married;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*chf/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where chf ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel chf _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel chf;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*cva/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where cva ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel cva _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel cva;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*cancer/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where cancer ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel cancer _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel cancer;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*ami/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where ami ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel ami _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel ami;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*diab/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where diab ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel diab _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel diab;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*highbp/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where highbp ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel highbp _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel highbp;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*copd/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where copd ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel copd _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel copd;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*bmi_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where bmi_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel bmi_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*waist_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where waist_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel waist_cat _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel waist_cat;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*ckd/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where waist_cat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel ckd _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel ckd;
modeleffects rowpercent;
stderr stderr;
run;











proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*alcohol_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where alcohol_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 alcohol_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 alcohol_cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*smoke_4cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where smoke_4cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 smoke_4cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 smoke_4cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*married/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where married ne .;
run;
proc sort data=f3descriptive;
by domain_f3 married _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 married;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*chf/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where chf ne .;
run;
proc sort data=f3descriptive;
by domain_f3 chf _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 chf;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*cva/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where cva ne .;
run;
proc sort data=f3descriptive;
by domain_f3 cva _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 cva;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*cancer/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where cancer ne .;
run;
proc sort data=f3descriptive;
by domain_f3 cancer _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 cancer;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*ami/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where ami ne .;
run;
proc sort data=f3descriptive;
by domain_f3 ami _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 ami;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*diab/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where diab ne .;
run;
proc sort data=f3descriptive;
by domain_f3 diab _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 diab;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*highbp/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where highbp ne .;
run;
proc sort data=f3descriptive;
by domain_f3 highbp _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 highbp;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*copd/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where copd ne .;
run;
proc sort data=f3descriptive;
by domain_f3 copd _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 copd;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*bmi_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where bmi_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 bmi_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*waist_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where waist_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 waist_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 waist_cat;
modeleffects rowpercent;
stderr stderr;
run;






proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*alcohol_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where alcohol_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel alcohol_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel alcohol_cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*smoke_4cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where smoke_4cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel smoke_4cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel smoke_4cat;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*married/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where married ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel married _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel married;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*chf/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where chf ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel chf _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel chf;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*cva/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where cva ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel cva _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel cva;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*cancer/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where cancer ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel cancer _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel cancer;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*ami/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where ami ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel ami _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel ami;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*diab/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where diab ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel diab _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel diab;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*highbp/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where highbp ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel highbp _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel highbp;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*copd/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where copd ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel copd _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel copd;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*bmi_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where bmi_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel bmi_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel bmi_cat;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*waist_cat/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where waist_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel waist_cat _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel waist_cat;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*ckd/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where waist_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel ckd _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel ckd;
modeleffects rowpercent;
stderr stderr;
run;










/* dead frequency by subgroup  */




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 dead;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*agecat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 agecat dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 agecat dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*race*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 race dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 race dead;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*married*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 married dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 married dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*smoke_4cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 smoke_4cat dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 smoke_4cat dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*alcohol_cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 alcohol_cat dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 alcohol_cat dead;
modeleffects rowpercent;
stderr stderr;
run;


proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*agecat*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 agecat edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 agecat edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*race*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where race ne .;
run;
proc sort data=m3descriptive;
by domain_m3 race edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 race edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_m3;
by _imputation_;
tables domain_m3*married*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where married ne .;
run;
proc sort data=m3descriptive;
by domain_m3 married edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 married edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;


data n3;
set mike.nhanes3_domain3_multimp_m3;
if smoke_4cat=1 or smoke_4cat=2 then smoker=1;
else if smoke_4cat=3 then smoker=3;
else if smoke_4cat=4 then smoker=4;
if alcohol_cat=0 then alcohol=0;
else if alcohol_cat=1 or alcohol_cat=2 then alcohol=1;
run;



proc surveyfreq data=n3;
by _imputation_;
tables domain_m3*smoker*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where smoker ne .;
run;
proc sort data=m3descriptive;
by domain_m3 smoker edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 smoker edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=n3;
by _imputation_;
tables domain_m3*alcohol*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where alcohol ne .;
run;
proc sort data=m3descriptive;
by domain_m3 alcohol edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 alcohol edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;







proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*agecat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 agecat dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 agecat dead;
modeleffects rowpercent;
stderr stderr;
run;






proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*race*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 race dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 race dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*married*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 married dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 married dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*smoke_4cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 smoke_4cat dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 smoke_4cat dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*alcohol_cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 alcohol_cat dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 alcohol_cat dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*agecat*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 agecat edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 agecat edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*race*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where race ne .;
run;
proc sort data=f3descriptive;
by domain_f3 race edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 race edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes3_domain3_multimp_f3;
by _imputation_;
tables domain_f3*married*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where married ne .;
run;
proc sort data=f3descriptive;
by domain_f3 married edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 married edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;


data n3;
set mike.nhanes3_domain3_multimp_f3;
if smoke_4cat=1 or smoke_4cat=2 then smoker=1;
else if smoke_4cat=3 then smoker=3;
else if smoke_4cat=4 then smoker=4;
if alcohol_cat=0 then alcohol=0;
else if alcohol_cat=1 or alcohol_cat=2 then alcohol=1;
run;



proc surveyfreq data=n3;
by _imputation_;
tables domain_f3*smoker*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where smoker ne .;
run;
proc sort data=f3descriptive;
by domain_f3 smoker edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 smoker edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=n3;
by _imputation_;
tables domain_f3*alcohol*edlevel*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Nhanes3 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where alcohol ne .;
run;
proc sort data=f3descriptive;
by domain_f3 alcohol edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 alcohol edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;








proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 dead;
modeleffects rowpercent;
stderr stderr;
run;






proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*agecat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 agecat dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 agecat dead;
modeleffects rowpercent;
stderr stderr;
run;



proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*race*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 race dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 race dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*married*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 married dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 married dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*smoke_4cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 smoke_4cat dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 smoke_4cat dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*alcohol_cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 alcohol_cat dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 alcohol_cat dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*agecat*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where agecat ne .;
run;
proc sort data=m3descriptive;
by domain_m3 agecat edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 agecat edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*race*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where race ne .;
run;
proc sort data=m3descriptive;
by domain_m3 race edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 race edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_m3;
by _imputation_;
tables domain_m3*married*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where married ne .;
run;
proc sort data=m3descriptive;
by domain_m3 married edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 married edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;


data n3;
set mike.nhanes0912_domain2_multimp_m3;
if smoke_4cat=1 or smoke_4cat=2 then smoker=1;
else if smoke_4cat=3 then smoker=3;
else if smoke_4cat=4 then smoker=4;
if alcohol_cat=0 then alcohol=0;
else if alcohol_cat=1 or alcohol_cat=2 then alcohol=1;
run;



proc surveyfreq data=n3;
by _imputation_;
tables domain_m3*smoker*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where smoker ne .;
run;
proc sort data=m3descriptive;
by domain_m3 smoker edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 smoker edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=n3;
by _imputation_;
tables domain_m3*alcohol*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 Men 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=m3descriptive;
run;
proc print data=m3descriptive;
run;
data m3descriptive;
set m3descriptive;
where alcohol ne .;
run;
proc sort data=m3descriptive;
by domain_m3 alcohol edlevel dead _imputation_;
run;
proc mianalyze data=m3descriptive;
by domain_m3 alcohol edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;








proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;






proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*agecat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 agecat dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 agecat dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*race*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where race ne .;
run;
proc sort data=f3descriptive;
by domain_f3 race dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 race dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*married*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where married ne .;
run;
proc sort data=f3descriptive;
by domain_f3 married dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 married dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*smoke_4cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where smoke_4cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 smoke_4cat dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 smoke_4cat dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*alcohol_cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where alcohol_cat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 alcohol_cat dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 alcohol_cat dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*agecat*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where agecat ne .;
run;
proc sort data=f3descriptive;
by domain_f3 agecat edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 agecat edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;




proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*race*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where race ne .;
run;
proc sort data=f3descriptive;
by domain_f3 race edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 race edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=mike.nhanes0912_domain2_multimp_f3;
by _imputation_;
tables domain_f3*married*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where married ne .;
run;
proc sort data=f3descriptive;
by domain_f3 married edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 married edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;


data n3;
set mike.nhanes0912_domain2_multimp_f3;
if smoke_4cat=1 or smoke_4cat=2 then smoker=1;
else if smoke_4cat=3 then smoker=3;
else if smoke_4cat=4 then smoker=4;
if alcohol_cat=0 then alcohol=0;
else if alcohol_cat=1 or alcohol_cat=2 then alcohol=1;
run;



proc surveyfreq data=n3;
by _imputation_;
tables domain_f3*smoker*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where smoker ne .;
run;
proc sort data=f3descriptive;
by domain_f3 smoker edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 smoker edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;





proc surveyfreq data=n3;
by _imputation_;
tables domain_f3*alcohol*edlevel*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'nhanes0912 women 60+ Multiple imputation';
title2 '  ';
ods output crosstabs=f3descriptive;
run;
proc print data=f3descriptive;
run;
data f3descriptive;
set f3descriptive;
where alcohol ne .;
run;
proc sort data=f3descriptive;
by domain_f3 alcohol edlevel dead _imputation_;
run;
proc mianalyze data=f3descriptive;
by domain_f3 alcohol edlevel dead;
modeleffects rowpercent;
stderr stderr;
run;




















proc surveyfreq data=mike.nhanes0912_domain2_impm3 varmethod=jackknife;
tables domain_m3*edlevel*(married waist_cat diab ami cva copd cancer chf ckd highbp)*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


data new;
set mike.nhanes0912_domain2_impm3;
if smoke_4cat=4 then smoker=0;
else if smoke_4cat=1 or smoke_4cat=2 or smoke_4cat=3 then smoker=1;
if alcohol_cat=0 then drinker=0;
else if alcohol_cat=2 or alcohol_cat=1 then drinker=1;
if bmi_cat=1 or bmi_cat=2 or bmi_cat=3 then obese=0;
else if bmi_cat=4 then obese=1;
run;


proc surveyfreq data=new varmethod=jackknife;
tables domain_m3*edlevel*(smoker drinker obese)*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;

proc surveyfreq data=new varmethod=jackknife;
tables domain_m3*edlevel*(smoker drinker obese)/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


proc surveyfreq data=mike.nhanes0912_domain2_impm3 varmethod=jackknife;
tables domain_m3*edlevel*(married waist_cat diab ami cva copd cancer chf ckd highbp)/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impm3 varmethod=jackknife;
tables domain_m3*edlevel*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=new varmethod=jackknife;
tables domain_m3*(smoker drinker obese)*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;

proc surveyfreq data=mike.nhanes0912_domain2_impm3 varmethod=jackknife;
tables domain_m3*(married waist_cat diab ami cva copd cancer chf ckd highbp)*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes3_domain3_impm3 varmethod=jackknife;
tables domain_m3*edlevel*(married waist_cat diab ami cva copd cancer chf ckd highbp)*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


data new3;
set mike.nhanes3_domain3_impm3;
if smoke_4cat=4 then smoker=0;
else if smoke_4cat=1 or smoke_4cat=2 or smoke_4cat=3 then smoker=1;
if alcohol_cat=0 then drinker=0;
else if alcohol_cat=2 or alcohol_cat=1 then drinker=1;
if bmi_cat=1 or bmi_cat=2 or bmi_cat=3 then obese=0;
else if bmi_cat=4 then obese=1;
run;


proc surveyfreq data=new3 varmethod=jackknife;
tables domain_m3*edlevel*(smoker drinker obese)*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


proc surveyfreq data=new3 varmethod=jackknife;
tables domain_m3*(smoker drinker obese)*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;

proc surveyfreq data=mike.nhanes3_domain3_impm3 varmethod=jackknife;
tables domain_m3*(married waist_cat diab ami cva copd cancer chf ckd highbp)*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;

proc surveyfreq data=mike.nhanes3_domain3_impm3 varmethod=jackknife;
tables domain_m3*edlevel*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




/* frequency of dead in Nhanes0912 by condition, for use as standard applied to Nhanes3 */

data mike.nhanes0912_domain2_impm3_ext;
set mike.nhanes0912_domain2_impm3;
if age ge 60 and age lt 70 then agecat=1;
else if age ge 70 and age lt 80 tehn agecat=2;
else if age ge 80 then agecat=3;
else if age lt 60 then agecat=0;
if bmi_cat=1 or bmi_cat=2 then bmi_new=1;
else bmi_new=bmi_cat;
run;


proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*copd*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*cva*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*ami*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*chf*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*ckd*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*cancer*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*diab*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*highbp*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*alcohol_cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*smoke_4cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*married*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*waist_cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*bmi_cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*bmi_new*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impm3_ext varmethod=jackknife;
tables domain_m3*edlevel*agecat*smoke_3cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;





data mike.nhanes0912_domain2_impf3_ext;
set mike.nhanes0912_domain2_impf3;
if age ge 60 and age lt 70 then agecat=1;
else if age ge 70 and age lt 80 then agecat=2;
else if age ge 80 then agecat=3;
else if age lt 60 then agecat=0;
if bmi_cat=1 or bmi_cat=2 then bmi_new=1;
else bmi_new=bmi_cat;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*copd*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*cva*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*ami*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*chf*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*ckd*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*cancer*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*diab*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*highbp*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;


proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*alcohol_cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*smoke_4cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*married*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;



proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*waist_cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*bmi_cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*bmi_new*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;




proc surveyfreq data=mike.nhanes0912_domain2_impf3_ext varmethod=jackknife;
tables domain_f3*edlevel*agecat*smoke_3cat*dead/row cl;
weight imp_weight;
repweight imp_repwt_:;
run;








/* do not use below */



data mike.nhanes3_domain3;
set mike.nhanes3_domain2;
if married=1 or married=. then married_imp=1;
else if married=0 then married_imp=0;
if genhealth=. then genhealth_imp=3;
else if genhealth ne . then genhealth_imp=genhealth;
if chf=0 or chf=. then chf_imp=0;
else if chf=1 then chf_imp=1;
if cva=0 or cva=. then cva_imp=0;
else if cva=1 then cva_imp=1;
if asthma=0 or asthma=. then asthma_imp=0;
else if asthma=1 then asthma_imp=1;
if bronch=0 or bronch=. then bronch_imp=0;
else if bronch=1 then bronch_imp=1;
if emph=0 or emph=. then emph_imp=0;
else if emph=1 then emph_imp=1;
if cancer=0 or cancer=. then cancer_imp=0;
else if cancer=1 then cancer_imp=1;
if dm=0 or dm=. then dm_imp=0;
else if dm=1 then dm_imp=1;
if htn=0 or htn=. then htn_imp=0;
else if htn=1 then htn_imp=1;
if ami=0 or ami=. then ami_imp=0;
else if ami=1 then ami_imp=1;

if smoke_4cat=. or smoke_4cat=4 then smoke_4cat_i=4;
else if smoke_4cat=3 then smoke_4cat_i=3;
else if smoke_4cat=2 then smoke_4cat_i=2;
else if smoke_4cat=1 then smoke_4cat_i=1;

if smoke_4cat_imphigh=. or smoke_4cat_imphigh=4 then smoke_4cat_imphigh_i=4;
else if smoke_4cat_imphigh=3 then smoke_4cat_imphigh_i=3;
else if smoke_4cat_imphigh=2 then smoke_4cat_imphigh_i=2;
else if smoke_4cat_imphigh=1 then smoke_4cat_imphigh_i=1;

if smoke_4cat_implow=. or smoke_4cat_implow=4 then smoke_4cat_implow_i=4;
else if smoke_4cat_implow=3 then smoke_4cat_implow_i=3;
else if smoke_4cat_implow=2 then smoke_4cat_implow_i=2;
else if smoke_4cat_implow=1 then smoke_4cat_implow_i=1;

if smoke_3cat=. or smoke_3cat=4 then smoke_3cat_i=4;
else if smoke_3cat=3 then smoke_3cat_i=3;
else if smoke_3cat=2 then smoke_3cat_i=2;
else if smoke_3cat=1 then smoke_3cat_i=1;

if bmi_cat=. or bmi_cat=2 then bmi_cat_imp=2;
else if bmi_cat=1 then bmi_cat_imp=1;
else if bmi_cat=3 then bmi_cat_imp=3;
else if bmi_cat=4 then bmi_cat_imp=4;

if bmi_cat=. or bmi_cat=4 then bmi_cat_imphigh=4;
else if bmi_cat=1 then bmi_cat_imphigh=1;
else if bmi_cat=3 then bmi_cat_imphigh=3;
else if bmi_cat=2 then bmi_cat_imphigh=2;
run;


data mike.nhanes0912_domain3;
set mike.nhanes0912_domain2;
if married=1 or married=. then married_imp=1;
else if married=0 then married_imp=0;
if genhealth=. then genhealth_imp=3;
else if genhealth ne . then genhealth_imp=genhealth;
if chf=0 or chf=. then chf_imp=0;
else if chf=1 then chf_imp=1;
if cva=0 or cva=. then cva_imp=0;
else if cva=1 then cva_imp=1;
if asthma=0 or asthma=. then asthma_imp=0;
else if asthma=1 then asthma_imp=1;
if bronch=0 or bronch=. then bronch_imp=0;
else if bronch=1 then bronch_imp=1;
if emph=0 or emph=. then emph_imp=0;
else if emph=1 then emph_imp=1;
if cancer=0 or cancer=. then cancer_imp=0;
else if cancer=1 then cancer_imp=1;
if dm=0 or dm=. then dm_imp=0;
else if dm=1 then dm_imp=1;
if htn=0 or htn=. then htn_imp=0;
else if htn=1 then htn_imp=1;
if ami=0 or ami=. then ami_imp=0;
else if ami=1 then ami_imp=1;

if smoke_4cat=. or smoke_4cat=4 then smoke_4cat_i=4;
else if smoke_4cat=3 then smoke_4cat_i=3;
else if smoke_4cat=2 then smoke_4cat_i=2;
else if smoke_4cat=1 then smoke_4cat_i=1;

if smoke_4cat_imphigh=. or smoke_4cat_imphigh=4 then smoke_4cat_imphigh_i=4;
else if smoke_4cat_imphigh=3 then smoke_4cat_imphigh_i=3;
else if smoke_4cat_imphigh=2 then smoke_4cat_imphigh_i=2;
else if smoke_4cat_imphigh=1 then smoke_4cat_imphigh_i=1;

if smoke_4cat_implow=. or smoke_4cat_implow=4 then smoke_4cat_implow_i=4;
else if smoke_4cat_implow=3 then smoke_4cat_implow_i=3;
else if smoke_4cat_implow=2 then smoke_4cat_implow_i=2;
else if smoke_4cat_implow=1 then smoke_4cat_implow_i=1;

if smoke_3cat=. or smoke_3cat=4 then smoke_3cat_i=4;
else if smoke_3cat=3 then smoke_3cat_i=3;
else if smoke_3cat=2 then smoke_3cat_i=2;
else if smoke_3cat=1 then smoke_3cat_i=1;

if bmi_cat=. or bmi_cat=2 then bmi_cat_imp=2;
else if bmi_cat=1 then bmi_cat_imp=1;
else if bmi_cat=3 then bmi_cat_imp=3;
else if bmi_cat=4 then bmi_cat_imp=4;

if bmi_cat=. or bmi_cat=4 then bmi_cat_imphigh=4;
else if bmi_cat=1 then bmi_cat_imphigh=1;
else if bmi_cat=3 then bmi_cat_imphigh=3;
else if bmi_cat=2 then bmi_cat_imphigh=2;
run;






proc surveylogistic data=mike.nhanes0912_domain3;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married_imp(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat_imp(param=ref ref='2')
chf_imp(param=ref ref='0') cva_imp(param=ref ref='0') asthma_imp(param=ref ref='0') emph_imp(param=ref ref='0')
bronch_imp(param=ref ref='0') cancer_imp(param=ref ref='0') dm_imp(param=ref ref='0') htn_imp(param=ref ref='0')
ami_imp(param=ref ref='0') statin(param=ref ref='0');
model dead(ref='0')=edlevel age race married_imp bmi_cat_imp smoke_4cat_imphigh chf_imp cva_imp asthma_imp emph_imp
bronch_imp cancer_imp dm_imp htn_imp ami_imp statin;
run;

proc surveylogistic data=mike.nhanes3_domain3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married_imp(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat_imp(param=ref ref='2')
chf_imp(param=ref ref='0') cva_imp(param=ref ref='0') asthma_imp(param=ref ref='0') emph_imp(param=ref ref='0')
bronch_imp(param=ref ref='0') cancer_imp(param=ref ref='0') dm_imp(param=ref ref='0') htn_imp(param=ref ref='0')
ami_imp(param=ref ref='0') statin(param=ref ref='0');
model dead(ref='0')=edlevel age race married_imp bmi_cat_imp smoke_4cat_imphigh chf_imp cva_imp asthma_imp emph_imp
bronch_imp cancer_imp dm_imp htn_imp ami_imp statin;
run;


data s;
set mike.nhanes0912_domain3;
if statin=1 and domain_m3=1 then ds=1;
else ds=0;
run;
proc surveylogistic data=s;
stratum stratum;
cluster psu;
weight weight4y;
domain ds;
class edlevel(param=ref ref='3') race(param=ref ref='1') married_imp(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat_imp(param=ref ref='2')
chf_imp(param=ref ref='0') cva_imp(param=ref ref='0') asthma_imp(param=ref ref='0') emph_imp(param=ref ref='0')
bronch_imp(param=ref ref='0') cancer_imp(param=ref ref='0') dm_imp(param=ref ref='0') htn_imp(param=ref ref='0')
ami_imp(param=ref ref='0') statin(param=ref ref='0');
model dead(ref='0')=edlevel age race married_imp bmi_cat_imp smoke_4cat_imphigh chf_imp cva_imp asthma_imp emph_imp
bronch_imp cancer_imp dm_imp htn_imp ami_imp;
run;


data three;
set mike.nhanes3_domain3;
if dead=1;
if domain_f3=1;
run;
data three;
set three;
if seqn ne . then era=0;
else if seqn=. then era=1;
run;
data twelve;
set mike.nhanes0912_domain3;
if dead=1;
if domain_f3=1;
run;
data twelve;
set twelve;
if seqn ne . then era=1;
else if seqn=. then era=0;
run;
data three12;
set three twelve;
run;


proc freq data=three12;
tables era*(race married smoke_4cat_imphigh alcohol_cat bmi_cat chf cva asthma emph bronch cancer dm htn ami statin);
run;
proc sort data=three12;
by edlevel;
run;
proc freq data=three12;
tables era*(race married smoke_4cat_imphigh alcohol_cat bmi_cat chf cva asthma emph bronch cancer dm htn ami statin);
by edlevel;
run;



data n3;
set mike.nhanes3_domain3;
rename psu6=psu;
rename stratum6=stratum;
newweight=wtpfex6/2;
if seqn ne . then era=0;
else if seqn=. then era=1;
run;
data n9;
set mike.nhanes0912_domain3;
newweight=weight4y/2;
if seqn ne . then era=1;
else if seqn=. then era=0;
run;

data n3n9;
set n3 n9;
if domain_m3=1 and (edlevel=3 or edlevel=5) then domain_edconmen=1;
else if domain_m3=1 and (edlevel=1 or edlevel=2 or edlevel=4) or domain_m3=0 then domain_edconmen=0;
if domain_f3=1 and (edlevel=3 or edlevel=5) then domain_edconwomen=1;
else if domain_f3=1 and (edlevel=1 or edlevel=2 or edlevel=4) or domain_f3=0 then domain_edconwomen=0;
run;

proc surveyfreq data=n3n9;
stratum stratum;
cluster psu;
weight newweight;
tables domain_edconmen*married_imp*edlevel*dead;
run;






/*Stratified Logistics by smoking status for M60 and F60 */

data nine_f3;
set mike.nhanes0912_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=1;
else if seqn=. then era=0;
newwt=weight4y/2;
if domain_f3=1 and smoke_3cat=3 then domain_nonsmoke=1;
else if (domain_f3=1 and smoke_3cat ne 3) or domain_f3=0 then domain_nonsmoke=0;
run;
data three_f3;
set mike.nhanes3_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=0;
else if seqn=. then era=1;
newwt=wtpfex6/2;
if domain_f3=1 and smoke_3cat=3 then domain_nonsmoke=1;
else if (domain_f3=1 and smoke_3cat ne 3) or domain_f3=0 then domain_nonsmoke=0;
run;

proc surveylogistic data=nine_f3;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_nonsmoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat alcohol_cat;
title 'Female 60+ nhanes0912 nonsmokers only';
run;
proc surveylogistic data=three_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_nonsmoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat alcohol_cat;
title 'Female 60+ nhanes3 nonsmokers only';
run;




data nine_m3;
set mike.nhanes0912_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=1;
else if seqn=. then era=0;
newwt=weight4y/2;
if domain_m3=1 and smoke_3cat=3 then domain_nonsmoke=1;
else if (domain_m3=1 and smoke_3cat ne 3) or domain_m3=0 then domain_nonsmoke=0;
run;
data three_m3;
set mike.nhanes3_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=0;
else if seqn=. then era=1;
newwt=wtpfex6/2;
if domain_m3=1 and smoke_3cat=3 then domain_nonsmoke=1;
else if (domain_m3=1 and smoke_3cat ne 3) or domain_m3=0 then domain_nonsmoke=0;
run;

proc surveylogistic data=nine_m3;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_nonsmoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat alcohol_cat;
title 'male 60+ nhanes0912 nonsmokers only';
run;
proc surveylogistic data=three_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_nonsmoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat alcohol_cat;
title 'male 60+ nhanes3 nonsmokers only';
run;







data nine_f3;
set mike.nhanes0912_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=1;
else if seqn=. then era=0;
newwt=weight4y/2;
if domain_f3=1 and smoke_3cat ne 3 then domain_smoke=1;
else if (domain_f3=1 and smoke_3cat=3) or domain_f3=0 then domain_smoke=0;
run;
data three_f3;
set mike.nhanes3_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=0;
else if seqn=. then era=1;
newwt=wtpfex6/2;
if domain_f3=1 and smoke_3cat ne 3 then domain_smoke=1;
else if (domain_f3=1 and smoke_3cat=3) or domain_f3=0 then domain_smoke=0;
run;

proc surveylogistic data=nine_f3;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_smoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='2') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat alcohol_cat;
title 'Female 60+ nhanes0912 smokers only';
run;
proc surveylogistic data=three_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_smoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='2') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat alcohol_cat;
title 'Female 60+ nhanes3 smokers only';
run;




data nine_m3;
set mike.nhanes0912_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=1;
else if seqn=. then era=0;
newwt=weight4y/2;
if domain_m3=1 and smoke_3cat ne 3 then domain_smoke=1;
else if (domain_m3=1 and smoke_3cat=3) or domain_m3=0 then domain_smoke=0;
run;
data three_m3;
set mike.nhanes3_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=0;
else if seqn=. then era=1;
newwt=wtpfex6/2;
if domain_m3=1 and smoke_3cat ne 3 then domain_smoke=1;
else if (domain_m3=1 and smoke_3cat=3) or domain_m3=0 then domain_smoke=0;
run;

proc surveylogistic data=nine_m3;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_smoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat alcohol_cat;
title 'male 60+ nhanes0912 smokers only';
run;
proc surveylogistic data=three_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_smoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat alcohol_cat;
title 'male 60+ nhanes3 smokers only';
run;















/*Stratified Logistics by Obesity status for M60 and F60 */

data nine_f3_obese;
set mike.nhanes0912_domain2;
if seqn ne . then era=1;
else if seqn=. then era=0;
if domain_f3=1 and waist_cat=0 then domain_nonobese=1;
else if (domain_f3=1 and waist_cat=1) or domain_f3=0 then domain_nonobese=0;
run;
data three_f3_obese;
set mike.nhanes3_domain2;
if seqn ne . then era=0;
else if seqn=. then era=1;
if domain_f3=1 and waist_cat=0 then domain_nonobese=1;
else if (domain_f3=1 and waist_cat=1) or domain_f3=0 then domain_nonobese=0;
run;

proc surveylogistic data=nine_f3_obese;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_nonobese;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat_imphigh alcohol_cat;
title 'Female 60+ nhanes0912 non-obese only';
run;
proc surveylogistic data=three_f3_obese;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_nonobese;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat_imphigh alcohol_cat;
title 'Female 60+ nhanes3 non-obese only';
run;




data nine_m3_obese;
set mike.nhanes0912_domain2;
if seqn ne . then era=1;
else if seqn=. then era=0;
if domain_m3=1 and waist_cat=0 then domain_nonobese=1;
else if (domain_m3=1 and waist_cat=1) or domain_m3=0 then domain_nonobese=0;
run;
data three_m3_obese;
set mike.nhanes3_domain2;
if seqn ne . then era=0;
else if seqn=. then era=1;
if domain_m3=1 and waist_cat=0 then domain_nonobese=1;
else if (domain_m3=1 and waist_cat=1) or domain_m3=0 then domain_nonobese=0;
run;

proc surveylogistic data=nine_m3_obese;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_nonobese;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat_imphigh alcohol_cat;
title 'male 60+ nhanes0912 non-obese only';
run;
proc surveylogistic data=three_m3_obese;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_nonobese;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat_imphigh alcohol_cat;
title 'male 60+ nhanes3 non-obese only';
run;







data nine_f3_obese;
set mike.nhanes0912_domain2;
if seqn ne . then era=1;
else if seqn=. then era=0;
if domain_f3=1 and waist_cat=1 then domain_obese=1;
else if (domain_f3=1 and waist_cat=0) or domain_f3=0 then domain_obese=0;
run;
data three_f3_obese;
set mike.nhanes3_domain2;
if seqn ne . then era=0;
else if seqn=. then era=1;
if domain_f3=1 and waist_cat=1 then domain_obese=1;
else if (domain_f3=1 and waist_cat=0) or domain_f3=0 then domain_obese=0;
run;

proc surveylogistic data=nine_f3_obese;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_obese;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat_imphigh alcohol_cat;
title 'Female 60+ nhanes0912 obese only';
run;
proc surveylogistic data=three_f3_obese;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_obese;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat_imphigh alcohol_cat;
title 'Female 60+ nhanes3 obese only';
run;




data nine_m3_obese;
set mike.nhanes0912_domain2;
if seqn ne . then era=1;
else if seqn=. then era=0;
if domain_m3=1 and waist_cat=1 then domain_obese=1;
else if (domain_m3=1 and waist_cat=0) or domain_m3=0 then domain_obese=0;
run;
data three_m3_obese;
set mike.nhanes3_domain2;
if seqn ne . then era=0;
else if seqn=. then era=1;
if domain_m3=1 and waist_cat=1 then domain_obese=1;
else if (domain_m3=1 and waist_cat=0) or domain_m3=0 then domain_obese=0;
run;

proc surveylogistic data=nine_m3_obese;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_obese;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat_imphigh alcohol_cat;
title 'male 60+ nhanes0912 obese only';
run;
proc surveylogistic data=three_m3_obese;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_obese;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat_imphigh(param=ref ref='4') alcohol_cat(param=ref ref='1') ever_smoker(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat_imphigh alcohol_cat;
title 'male 60+ nhanes3 obese only';
run;



/* end */






/* test significant change in OR between N3 and N0912 */

data nine;
set mike.nhanes0912_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=1;
else if seqn=. then era=0;
newwt=weight4y/2;
run;
data three;
set mike.nhanes3_domain2;
if smoke_3cat=1 or smoke_3cat=2 then ever_smoker=1;
else if smoke_3cat=3 then ever_smoker=0;
if seqn ne . then era=0;
else if seqn=. then era=1;
rename psu6=psu;
rename stratum6=stratum;
newwt=wtpfex6/2;
run;
data ninethree;
set nine three;
run;
data ninethree;
set ninethree;
edera=edlevel*era;
run;



proc surveylogistic data=ninethree;
stratum stratum;
cluster psu;
weight newwt;
domain domain_m3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') smoke_4cat_imphigh(param=ref ref='4') 
era(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat smoke_4cat_imphigh alcohol_cat era ;
title 'Significant test for ERA and ERA by EDLEVEL interaction';
run;

proc surveylogistic data=ninethree;
stratum stratum;
cluster psu;
weight newwt;
domain domain_m3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') smoke_4cat_imphigh(param=ref ref='4') 
era(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat smoke_4cat_imphigh alcohol_cat era era*edlevel;
contrast 'era' era -1 1/estimate=both;
contrast 'edlevel' edlevel 0 0 0 1 -1/estimate=both; 
contrast 'era by edlevel' era*edlevel 0 0 0 0.5 -0.5
0 0 0 0.5 -0.5
/estimate=both;
run;



proc surveylogistic data=ninethree;
stratum stratum;
cluster psu;
weight newwt;
domain domain_f3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') smoke_4cat_imphigh(param=ref ref='4') 
era(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat smoke_4cat_imphigh alcohol_cat era ;
run;

proc surveylogistic data=ninethree;
stratum stratum;
cluster psu;
weight newwt;
domain domain_f3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_3cat(param=ref ref='3') alcohol_cat(param=ref ref='1') smoke_4cat_imphigh(param=ref ref='4') 
era(param=ref ref='0');
model dead(ref='0')=edlevel age race married waist_cat smoke_4cat_imphigh alcohol_cat era era*edlevel;
contrast 'era' era -1 1/estimate=both;
contrast 'edlevel' edlevel 0 0 0 1 -1/estimate=both; 
contrast 'era by edlevel' era*edlevel 0 0 0 0.5 -0.5
0 0 0 0.5 -0.5
/estimate=both;
run;








proc surveyfreq data=mike.nhanes0912_domain2;
tables domain_m3*edlevel*smoke_4cat_imphigh;
stratum stratum;
weight weight4y;
cluster psu;
title 'Weighted Men 60+';
title2 'NHANES III';
run;
proc freq data=mike.nhanes0912_domain2;
tables domain_m3*edlevel*smoke_4cat_imphigh;
title '09';
run;
proc freq data=mike.nhanes3_domain2;
tables domain_m3*edlevel*smoke_4cat_imphigh;
title '3';
run;



proc print data=mike.nhanes3_domain2_impm3 (obs=10);
run;

data testimp;
set mike.nhanes3_domain2_impm3;
if (impindex=0) then do;
do _imputation_=1 to 5;
output;
end;
end;
else do;
_imputation_ = impindex;
output;
end;
proc sort data=testimp;
by _imputation_ seqn;
run;
proc print data=testimp (obs=20);
run;

data mike.nhanes3_domain2_impm3_1;
set testimp;
where _imputation_=1;
run;

data mike.nhanes3_domain2_impm3_2;
set testimp;
where _imputation_=2;
run;

data mike.nhanes3_domain2_impm3_3;
set testimp;
where _imputation_=3;
run;

data mike.nhanes3_domain2_impm3_4;
set testimp;
where _imputation_=4;
run;

data mike.nhanes3_domain2_impm3_5;
set testimp;
where _imputation_=5;
run;






data nhanes3select;
set mike.nhanes3_domain2_impm3_1;
if domain_m3=1;
run;
data nhanes3select;
set nhanes3select;
if domain_m3=1 and edlevel=1 and smoke_4cat=1 then stratum_comp=1;
else if domain_m3=1 and edlevel=1 and smoke_4cat=2 then stratum_comp=2;
else if domain_m3=1 and edlevel=1 and smoke_4cat=3 then stratum_comp=3;
else if domain_m3=1 and edlevel=1 and smoke_4cat=4 then stratum_comp=4;

else if domain_m3=1 and edlevel=2 and smoke_4cat=1 then stratum_comp=5;
else if domain_m3=1 and edlevel=2 and smoke_4cat=2 then stratum_comp=6;
else if domain_m3=1 and edlevel=2 and smoke_4cat=3 then stratum_comp=7;
else if domain_m3=1 and edlevel=2 and smoke_4cat=4 then stratum_comp=8;

else if domain_m3=1 and edlevel=3 and smoke_4cat=1 then stratum_comp=9;
else if domain_m3=1 and edlevel=3 and smoke_4cat=2 then stratum_comp=10;
else if domain_m3=1 and edlevel=3 and smoke_4cat=3 then stratum_comp=11;
else if domain_m3=1 and edlevel=3 and smoke_4cat=4 then stratum_comp=12;

else if domain_m3=1 and edlevel=4 and smoke_4cat=1 then stratum_comp=13;
else if domain_m3=1 and edlevel=4 and smoke_4cat=2 then stratum_comp=14;
else if domain_m3=1 and edlevel=4 and smoke_4cat=3 then stratum_comp=15;
else if domain_m3=1 and edlevel=4 and smoke_4cat=4 then stratum_comp=16;

else if domain_m3=1 and edlevel=5 and smoke_4cat=1 then stratum_comp=17;
else if domain_m3=1 and edlevel=5 and smoke_4cat=2 then stratum_comp=18;
else if domain_m3=1 and edlevel=5 and smoke_4cat=3 then stratum_comp=19;
else if domain_m3=1 and edlevel=5 and smoke_4cat=4 then stratum_comp=20;
run;

proc sort data=nhanes3select;
by stratum_comp;
run;
proc freq data=nhanes3select;
tables stratum_comp;
run;



proc surveyselect data=nhanes3select out=three_select_m3_smoke1 method=srs seed=25499 rep=2
sampsize=1000;
strata stratum_comp/alloc=(0.01 0.013 0.045 0.027
0.0189 0.0118 0.057 0.028
0.0118 0.024 0.098 0.073
0.014 0.038 0.138 0.061
0.007 0.014 0.134 0.169);
run;
proc print data=three_select_m3_smoke1 (obs=5);
run;

data flag;
set three_select_m3_smoke1;
if seqn ne . then domain_rep1=1;
else if seqn=. then domain_rep1=0;
run;
data flag;
set flag;
keep seqn domain_rep1 replicate ;
run;
proc freq data=flag;
tables domain_rep1;
run;

data flag1;
set flag;
where replicate=1;
run;
data flag2;
set flag;
where replicate=2;
run;

proc sql;
create table newflag1 as
select * from mike.nhanes3_domain2_impm3_1 as a
left join flag1 as b
on a.seqn=b.seqn;
quit;
data newflag1b;
set newflag1;
if domain_rep1=1 then domain_rep=1;
else if domain_rep1=' ' or domain_rep1=0 then domain_rep=0;
run;
proc freq data=newflag1b;
tables domain_rep;
run;
proc surveylogistic data=newflag1b;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_rep;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2')
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') statin(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab highbp ami ckd;
ods output parameterestimates=estimates;
run;
data nr;
set estimates;
if domain_rep=1 and variable='edlevel' and classval0=5;
run;
proc print data=nr;
run;



proc sql;
create table newflag2 as
select * from mike.nhanes3_domain2_impm3_1 as a
left join flag2 as b
on a.seqn=b.seqn;
quit;
data newflag2b;
set newflag2;
if domain_rep1=1 then domain_rep=1;
else if domain_rep1=' ' or domain_rep1=0 then domain_rep=0;
run;
ods output parameterestimates=_pe
 oddsratios=_or;
proc surveylogistic data=newflag2b;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_rep;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='2') bmi_cat(param=ref ref='2')
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') statin(param=ref ref='0');
model dead(ref='0')=edlevel age race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab highbp ami ckd;
run;
ods output close;

proc print data=_or;
run;










proc surveyselect data=nhanes3select out=three_select_m3_smoke1 method=srs seed=25499 rep=2
sampsize=1000;
strata stratum_comp/alloc=(0.01 0.013 0.045 0.027
0.0189 0.0118 0.057 0.028
0.0118 0.024 0.098 0.073
0.014 0.038 0.138 0.061
0.007 0.014 0.134 0.169);
run;
proc print data=three_select_m3_smoke1 (obs=5);
run;


data rep1;
set three_select_m3_smoke1;
where replicate=1;
run;
data rep2;
set three_select_m3_smoke1;
where replicate=2;
run;


data want1;
if _N_ = 1 then do;
declare hash VET(dataset: "rep1");
VET.definekey("seqn");
VET.definedone();
end;
set mike.nhanes3_domain2;
flag=(VET.check()=0);
run;

proc freq data=want1;
tables flag;
run;


proc surveylogistic data=want1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain flag;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='2');
model dead(ref='0')=edlevel age race married waist_cat smoke_4cat alcohol_cat;
ods output parameterestimates=estimates1;
run;
data or1;
set estimates1;
if flag=1 and variable='edlevel' and classval0=5;
run;
proc print data=or1;
run;
run;























proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m2;
ratio dead/dur2;
poststrata race / pspct=race_m2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
ratio dead/dur2;
poststrata race / pspct=race_m3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f1;
ratio dead/dur2;
poststrata race / pspct=race_f1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f2;
ratio dead/dur2;
poststrata race / pspct=race_f2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain2 ratio clm;
var dur2 dead;
by edlevel;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f3;
ratio dead/dur2;
poststrata race / pspct=race_f3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;












/*proportion dead by age group; Poverty ratio */


proc surveyfreq data=mike.nhanes3_domain;
tables domain_m1*poverty_cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted men 20-39';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain;
by domain_m1 poverty_cat;
run;
proc surveymeans data=mike.nhanes3_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m1;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m1;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes3_domain;
tables domain_m2*poverty_cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted men 40-59';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain;
by domain_m2 poverty_cat;
run;
proc surveymeans data=mike.nhanes3_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m2;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m2;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes3_domain;
tables domain_m3*poverty_cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted men 60+';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain;
by domain_m3 poverty_cat;
run;
proc surveymeans data=mike.nhanes3_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m3;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_m3;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes3_domain;
tables domain_f1*poverty_cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted women 20-39';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain;
by domain_f1 poverty_cat;
run;
proc surveymeans data=mike.nhanes3_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f1;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f1;
ratio dead/dur2;
run;




proc surveyfreq data=mike.nhanes3_domain;
tables domain_f2*poverty_cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted women 40-59';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain;
by domain_f2 poverty_cat;
run;
proc surveymeans data=mike.nhanes3_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f2;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f2;
ratio dead/dur2;
run;




proc surveyfreq data=mike.nhanes3_domain;
tables domain_f3*poverty_cat*dead/row cl;
stratum stratum6;
weight wtpfex6;
cluster psu6;
title 'Crude mortality Weighted women 60+';
title2 'NHANES 3';
run;
proc sort data=mike.nhanes3_domain;
by domain_f3 poverty_cat;
run;
proc surveymeans data=mike.nhanes3_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f3;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes3_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum6;
cluster psu6;
weight wtpfex6;
domain domain_f3;
ratio dead/dur2;
run;






proc surveyfreq data=mike.nhanes0912_domain;
tables domain_m1*poverty_cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted men 20-39';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain;
by domain_m1 poverty_cat;
run;
proc surveymeans data=mike.nhanes0912_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m1;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m1;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes0912_domain;
tables domain_m2*poverty_cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted men 40-59';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain;
by domain_m2 poverty_cat;
run;
proc surveymeans data=mike.nhanes0912_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m2;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m2;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes0912_domain;
tables domain_m3*poverty_cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted men 60+';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain;
by domain_m3 poverty_cat;
run;
proc surveymeans data=mike.nhanes0912_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
ratio dead/dur2;
run;



proc surveyfreq data=mike.nhanes0912_domain;
tables domain_f1*poverty_cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted women 20-39';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain;
by domain_f1 poverty_cat;
run;
proc surveymeans data=mike.nhanes0912_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f1;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f1;
ratio dead/dur2;
run;




proc surveyfreq data=mike.nhanes0912_domain;
tables domain_f2*poverty_cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted women 40-59';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain;
by domain_f2 poverty_cat;
run;
proc surveymeans data=mike.nhanes0912_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f2;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f2;
ratio dead/dur2;
run;




proc surveyfreq data=mike.nhanes0912_domain;
tables domain_f3*poverty_cat*dead/row cl;
stratum stratum;
weight weight4y;
cluster psu;
title 'Crude mortality Weighted women 60+';
title2 'NHANES 2009-12';
run;
proc sort data=mike.nhanes0912_domain;
by domain_f3 poverty_cat;
run;
proc surveymeans data=mike.nhanes0912_domain sum;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f3;
ratio dead/dur2;
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f3;
ratio dead/dur2;
run;


/*race proportions in Nhanes 3 for standardization */

data race_m1;
input race _pspct_;
cards;
1
2
3
4
;
run;
data race_m2;
input race _pspct_;
cards;
1
2
3
4
;
run;
data race_m3;
input race _pspct_;
cards;
1
2
3
4
;
run;
data race_f1;
input race _pspct_;
cards;
1
2
3
4
;
run;
data race_f2;
input race _pspct_;
cards;
1
2
3
4
;
run;
data race_f3;
input race _pspct_;
cards;
1
2
3
4
;
run;



/* Rates in 2009-12 standardized to Race of Nhanes 3 */

proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m1;
ratio dead/dur2;
poststrata race / pspct=race_m1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m2;
ratio dead/dur2;
poststrata race / pspct=race_m2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_m3;
ratio dead/dur2;
poststrata race / pspct=race_m3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f1;
ratio dead/dur2;
poststrata race / pspct=race_f1;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f2;
ratio dead/dur2;
poststrata race / pspct=race_f2;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;
proc surveymeans data=mike.nhanes0912_domain ratio clm;
var dur2 dead;
by poverty_cat;
stratum stratum;
cluster psu;
weight weight4y;
domain domain_f3;
ratio dead/dur2;
poststrata race / pspct=race_f3;
title 'Race adjusted mortaltiy rate in Nhanes 2009-12';
run;






/*Logistic by age group */

proc surveylogistic data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES III men 20-39';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES III men 20-39';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married ;
title 'NHANES III men 20-39';
run;



proc surveylogistic data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES III men 40-59';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES III men 40-59';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married;
title 'NHANES III men 40-59';
run;


proc surveylogistic data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES III men 60+';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES III men 60+';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married ;
title 'NHANES III men 60+';
run;


proc surveylogistic data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES III women 20-39';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES III women 20-39';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES III women 20-39';
run;



proc surveylogistic data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES III women 40-59';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES III women 40-59';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES III women 40-59';
run;


proc surveylogistic data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES III women 60+';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES III women 60+';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES III women 60+';
run;




proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES 2009-12 men 20-39';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES 2009-12 men 20-39';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES 2009-12 men 20-39';
run;



proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES 2009-12 men 40-59';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES 2009-12 men 40-59';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES 2009-12 men 40-59';
run;


proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES 2009-12 men 60+';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES 2009-12 men 60+';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES 2009-12 men 60+';
run;


proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES 2009-12 women 20-39';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES 2009-12 women 20-39';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES 2009-12 women 20-39';
run;



proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES 2009-12 women 40-59';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES 2009-12 women 40-59';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES 2009-12 women 40-59';
run;


proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dead(desc)=edlevel/rl ;
title 'NHANES 2009-12 women 60+';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race/rl ;
title 'NHANES 2009-12 women 60+';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married;
model dead(desc)=edlevel age race married/rl ;
title 'NHANES 2009-12 women 60+';
run;





proc surveylogistic data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES III men 20-39';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES III men 20-39';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES III men 20-39';
run;



proc surveylogistic data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES III men 40-59';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES III men 40-59';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES III men 40-59';
run;


proc surveylogistic data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES III men 60+';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES III men 60+';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES III men 60+';
run;


proc surveylogistic data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES III women 20-39';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES III women 20-39';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES III women 20-39';
run;



proc surveylogistic data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES III women 40-59';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES III women 40-59';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES III women 40-59';
run;


proc surveylogistic data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES III women 60+';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES III women 60+';
run;
proc surveylogistic data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES III women 60+';
run;




proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES 2009-12 men 20-39';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES 2009-12 men 20-39';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES 2009-12 men 20-39';
run;



proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES 2009-12 men 40-59';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES 2009-12 men 40-59';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES 2009-12 men 40-59';
run;


proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES 2009-12 men 60+';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES 2009-12 men 60+';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES 2009-12 men 60+';
run;


proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES 2009-12 women 20-39';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES 2009-12 women 20-39';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES 2009-12 women 20-39';
run;



proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES 2009-12 women 40-59';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES 2009-12 women 40-59';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES 2009-12 women 40-59';
run;


proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dead(desc)=poverty_cat/rl ;
title 'NHANES 2009-12 women 60+';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race/rl ;
title 'NHANES 2009-12 women 60+';
run;
proc surveylogistic data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married;
model dead(desc)=poverty_cat age race married/rl ;
title 'NHANES 2009-12 women 60+';
run;






/* Survival by age group */


proc surveyphreg data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES III Men 20-39';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES III Men 20-39';
run;
proc surveyphreg data=mike.nhanes3_domain2;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur2*dead(0)=edlevel age race married/rl;
title 'NHANES III Men 20-39';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES III Men 40-59';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES III Men 40-59';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES III Men 40-59';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES III Men 60+';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES III Men 60+';
run;
proc surveyphreg data=mike.nhanes3_domain2;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel(ref="3") race(ref=first) married waist_cat smoke_4cat_imphigh;
model dur2*dead(0)=edlevel age race married waist_cat smoke_4cat_imphigh/rl;
title 'NHANES III Men 60+';
run;

proc surveyphreg data=mike.nhanes0912_domain2;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel(ref="3") race(ref=first) married waist_cat smoke_4cat_imphigh alcohol_cat(ref="1");
model dur2*dead(0)=edlevel age race married waist_cat smoke_4cat_imphigh alcohol_cat/rl;
title 'NHANES III Men 60+';
run;

data age3;
set mike.nhanes3_domain2;
if age ge 60 and age lt 65 then agecat=1;
else if age ge 65 and age lt 70 then agecat=2;
else if age ge 70 and age lt 75 then agecat=3;
else if age ge 75 and age lt 80 then agecat=4;
else if age ge 80 then agecat=5;
run;
proc surveyphreg data=age3;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel(ref="3") race(ref=first) agecat(ref=first) married waist_cat smoke_4cat_imphigh alcohol_cat(ref="1");
model dur2*dead(0)=edlevel agecat race married waist_cat smoke_4cat_imphigh alcohol_cat/rl;
title 'NHANES III Men 60+';
run;
data age;
set mike.nhanes0912_domain2;
if age ge 60 and age lt 65 then agecat=1;
else if age ge 65 and age lt 70 then agecat=2;
else if age ge 70 and age lt 75 then agecat=3;
else if age ge 75 and age lt 80 then agecat=4;
else if age ge 80 then agecat=5;
run;
proc surveyphreg data=age;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel(ref="3") race(ref=first) agecat(ref=first) married waist_cat smoke_4cat_imphigh alcohol_cat(ref="1");
model dur2*dead(0)=edlevel agecat race married waist_cat smoke_4cat_imphigh alcohol_cat/rl;
title 'NHANES III Men 60+';
run;
proc surveyphreg data=age;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel(ref="3") race(ref=first) agecat(ref=first) married waist_cat smoke_4cat_imphigh alcohol_cat(ref="1");
model dur2*dead(0)=edlevel agecat race married /rl;
title 'NHANES III Men 60+';
run;
proc surveyphreg data=age;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel(ref="3") race(ref=first) agecat(ref=first) married waist_cat smoke_4cat_imphigh alcohol_cat(ref="1") bmi_cat(ref="2");
model dur2*dead(0)=edlevel agecat race married bmi_cat/rl ties=efron;
title 'NHANES III Men 60+';
run;
proc surveylogistic data=age;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel(ref="3") race(ref=first) agecat(ref=first) married waist_cat smoke_4cat_imphigh alcohol_cat(ref="1") bmi_cat(ref="2");
model dead(ref="0")=edlevel agecat race married bmi_cat;
title 'NHANES III Men 60+';
run;



data low;
input dm dead;
cards;
0 1
0 0
0 0
0 0
1 0
1 0
1 0
1 1
1 1
1 1
;
run;

data high;
input dm dead;
cards;
0 1
0 1
0 0
0 0
0 0
0 0
1 0
1 0
1 1
1 1
;
run;
proc logist data=low;
model dead(ref="0")=dm;
run;
proc logist data=high;
model dead(ref="0")=dm;
run;






proc sort data=mike.nhanes3_domain3;
by domain_m3;
run;
proc phreg data=mike.nhanes3_domain3;
by domain_m3;
model dur2*dead(0)=age race married edlevel alcohol_cat smoke_4cat ami diab highbp aget marriedt alcoholt smoket amit
edlevelt racet diabt highbpt;
aget=age*log(dur2);
marriedt=married*log(dur2);
alcoholt=alcohol_cat*log(dur2);
smoket=smoke_4cat*log(dur2);
amit=ami*log(dur2);
edlevelt=edlevel*log(dur2);
racet=race*log(dur2);
diabt=diab*log(dur2);
highbpt=highbp*log(dur2);
proportionality_test: test aget, marriedt, alcoholt, smoket, amit, edlevelt, racet, diabt, highbpt;
run;






proc surveyphreg data=mike.nhanes3_domain3;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel(ref="3") race(ref=first) married waist_cat smoke_4cat_imphigh;
model dur2*dead(0)=edlevel age race married waist_cat smoke_4cat_imphigh/rl;
title 'NHANES III Men 60+';
run;

proc surveyphreg data=mike.nhanes0912_domain2;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel(ref="3") race(ref=first) married waist_cat smoke_4cat_imphigh;
model dur2*dead(0)=edlevel age race married waist_cat smoke_4cat_imphigh/rl;
title 'NHANES III Men 60+';
run;







proc surveyphreg data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES III women 20-39';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES III women 20-39';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES III women 20-39';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES III women 40-59';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES III women 40-59';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES III women 40-59';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES III women 60+';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES III women 60+';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES III women 60+';
run;





proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES 2009-12 Men 20-39';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES 2009-12 Men 20-39';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES 2009-12 Men 20-39';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES 2009-12 Men 40-59';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES 2009-12 Men 40-59';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES 2009-12 Men 40-59';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES 2009-12 Men 60+';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES 2009-12 Men 60+';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES 2009-12 Men 60+';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES 2009-12 women 20-39';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES 2009-12 women 20-39';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES 2009-12 women 20-39';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES 2009-12 women 40-59';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES 2009-12 women 40-59';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES 2009-12 women 40-59';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel/rl;
title 'NHANES 2009-12 women 60+';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race/rl;
title 'NHANES 2009-12 women 60+';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class edlevel race(ref=first) married ;
model dur*dead(0)=edlevel age race married/rl;
title 'NHANES 2009-12 women 60+';
run;












proc surveyphreg data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES III Men 20-39';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES III Men 20-39';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES III Men 20-39';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES III Men 40-59';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES III Men 40-59';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES III Men 40-59';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES III Men 60+';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES III Men 60+';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_m3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES III Men 60+';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES III women 20-39';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES III women 20-39';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f1;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES III women 20-39';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES III women 40-59';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES III women 40-59';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f2;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES III women 40-59';
run;


proc surveyphreg data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES III women 60+';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES III women 60+';
run;
proc surveyphreg data=mike.nhanes3_domain;
domain domain_f3;
stratum stratum6;
cluster psu6;
weight wtpfex6;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES III women 60+';
run;





proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES 2009-12 Men 20-39';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES 2009-12 Men 20-39';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES 2009-12 Men 20-39';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES 2009-12 Men 40-59';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES 2009-12 Men 40-59';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES 2009-12 Men 40-59';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES 2009-12 Men 60+';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES 2009-12 Men 60+';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_m3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES 2009-12 Men 60+';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES 2009-12 women 20-39';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES 2009-12 women 20-39';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f1;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES 2009-12 women 20-39';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES 2009-12 women 40-59';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES 2009-12 women 40-59';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f2;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES 2009-12 women 40-59';
run;


proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat/rl;
title 'NHANES 2009-12 women 60+';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race/rl;
title 'NHANES 2009-12 women 60+';
run;
proc surveyphreg data=mike.nhanes0912_domain;
domain domain_f3;
stratum stratum;
cluster psu;
weight weight4y;
class poverty_cat race(ref=first) married ;
model dur*dead(0)=poverty_cat age race married/rl;
title 'NHANES 2009-12 women 60+';
run;






















