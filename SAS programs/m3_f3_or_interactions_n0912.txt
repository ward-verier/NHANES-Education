
libname mike 'C:\Users\wardm1\nhanes';
run;

/* N0912 subsets by comorbidity */
/*MEN */

data htn;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and highbp=1 then domain_bp=1;
else if (domain_m3=1 and highbp=0) or domain_m3=0 then domain_bp=0;
run;


proc sort data=htn;
by _imputation_;
run;
proc surveylogistic data=htn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab ami ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_bp;
ods output parameterestimates=bp1 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=bp1 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
ami ckd;
ods output parameterestimates=m3_bp;
run;

data or9;
set m3_bp;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;



data nohtn;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and highbp=0 then domain_bp=1;
else if (domain_m3=1 and highbp=1) or domain_m3=0 then domain_bp=0;
run;


proc sort data=nohtn;
by _imputation_;
run;
proc surveylogistic data=nohtn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab ami ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_bp;
ods output parameterestimates=bp2 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=bp2;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
ami ckd;
ods output parameterestimates=m3_bp2;
run;

data or9;
set m3_bp2;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data ami;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and ami=1 then domain_mi=1;
else if (domain_m3=1 and ami=0) or domain_m3=0 then domain_mi=0;
run;


proc sort data=ami;
by _imputation_;
run;
proc surveylogistic data=ami;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab highbp ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_mi;
ods output parameterestimates=mi1 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=mi1 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ckd;
ods output parameterestimates=m3_mi;
run;

data or9;
set m3_mi;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data noami;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and ami=0 then domain_mi=1;
else if (domain_m3=1 and ami=1) or domain_m3=0 then domain_mi=0;
run;


proc sort data=noami;
by _imputation_;
run;
proc surveylogistic data=noami;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab highbp ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_mi;
ods output parameterestimates=mi2 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=mi2 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ckd;
ods output parameterestimates=m3_mi2;
run;
data or9;
set m3_mi2;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data cva;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and cva=1 then domain_cva=1;
else if (domain_m3=1 and cva=0) or domain_m3=0 then domain_cva=0;
run;


proc sort data=cva;
by _imputation_;
run;
proc surveylogistic data=cva;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_cva;
ods output parameterestimates=cva3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cva3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp ckd;
ods output parameterestimates=m3_cva;
run;

data or9;
set m3_cva;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocva;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and cva=0 then domain_cva=1;
else if (domain_m3=1 and cva=1) or domain_m3=0 then domain_cva=0;
run;


proc sort data=nocva;
by _imputation_;
run;
proc surveylogistic data=nocva;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_cva;
ods output parameterestimates=cva4 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cva4 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp ckd;
ods output parameterestimates=m3_cva3;
run;
data or9;
set m3_cva3;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data ckd;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and ckd=1 then domain_ckd=1;
else if (domain_m3=1 and ckd=0) or domain_m3=0 then domain_ckd=0;
run;


proc sort data=ckd;
by _imputation_;
run;
proc surveylogistic data=ckd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_ckd;
ods output parameterestimates=ckd3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=ckd3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp cva;
ods output parameterestimates=m3_ckd;
run;

data or9;
set m3_ckd;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nockd;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and ckd=0 then domain_ckd=1;
else if (domain_m3=1 and ckd=1) or domain_m3=0 then domain_ckd=0;
run;


proc sort data=nockd;
by _imputation_;
run;
proc surveylogistic data=nockd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_ckd;
ods output parameterestimates=ckd5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=ckd5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp cva;
ods output parameterestimates=m3_ckd5;
run;
data or9;
set m3_ckd5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data chf;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and chf=1 then domain_chf=1;
else if (domain_m3=1 and chf=0) or domain_m3=0 then domain_chf=0;
run;


proc sort data=chf;
by _imputation_;
run;
proc surveylogistic data=chf;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_chf;
ods output parameterestimates=chf3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=chf3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd cancer diab
highbp cva;
ods output parameterestimates=m3_chf;
run;

data or9;
set m3_chf;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nochf;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and chf=0 then domain_chf=1;
else if (domain_m3=1 and chf=1) or domain_m3=0 then domain_chf=0;
run;


proc sort data=nochf;
by _imputation_;
run;
proc surveylogistic data=nochf;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_chf;
ods output parameterestimates=chf5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=chf5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd cancer diab
highbp cva;
ods output parameterestimates=m3_chf5;
run;
data or9;
set m3_chf5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data copd;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and copd=1 then domain_copd=1;
else if (domain_m3=1 and copd=0) or domain_m3=0 then domain_copd=0;
run;


proc sort data=copd;
by _imputation_;
run;
proc surveylogistic data=copd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_copd;
ods output parameterestimates=copd3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=copd3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf cancer diab
highbp cva ;
ods output parameterestimates=m3_copd;
run;

data or9;
set m3_copd;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocopd;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and copd=0 then domain_copd=1;
else if (domain_m3=1 and copd=1) or domain_m3=0 then domain_copd=0;
run;


proc sort data=nocopd;
by _imputation_;
run;
proc surveylogistic data=nocopd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_copd;
ods output parameterestimates=copd5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=copd5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf cancer diab
highbp cva;
ods output parameterestimates=m3_copd5;
run;
data or9;
set m3_copd5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data cancer;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and cancer=1 then domain_cancer=1;
else if (domain_m3=1 and cancer=0) or domain_m3=0 then domain_cancer=0;
run;


proc sort data=cancer;
by _imputation_;
run;
proc surveylogistic data=cancer;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_cancer;
ods output parameterestimates=cancer3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cancer3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd diab
highbp cva;
ods output parameterestimates=m3_cancer;
run;

data or9;
set m3_cancer;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocancer;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and cancer=0 then domain_cancer=1;
else if (domain_m3=1 and cancer=1) or domain_m3=0 then domain_cancer=0;
run;


proc sort data=nocancer;
by _imputation_;
run;
proc surveylogistic data=nocancer;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_cancer;
ods output parameterestimates=cancer5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cancer5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd diab
highbp cva;
ods output parameterestimates=m3_cancer5;
run;
data or9;
set m3_cancer5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data diab;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and diab=1 then domain_diab=1;
else if (domain_m3=1 and diab=0) or domain_m3=0 then domain_diab=0;
run;


proc sort data=diab;
by _imputation_;
run;
proc surveylogistic data=diab;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_diab;
ods output parameterestimates=dm3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dm3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_dm;
run;

data or9;
set m3_dm;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nodiab;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and diab=0 then domain_diab=1;
else if (domain_m3=1 and diab=1) or domain_m3=0 then domain_diab=0;
run;


proc sort data=nodiab;
by _imputation_;
run;
proc surveylogistic data=nodiab;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_diab;
ods output parameterestimates=dm5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dm5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_dm5;
run;
data or9;
set m3_dm5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data smoke;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and (smoke_4cat=1 or smoke_4cat=2) then domain_smoke=1;
else if (domain_m3=1 and (smoke_4cat=3 or smoke_4cat=4)) or domain_m3=0 then domain_smoke=0;
run;


proc sort data=smoke;
by _imputation_;
run;
proc surveylogistic data=smoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_smoke;
ods output parameterestimates=sm3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=sm3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_sm;
run;

data or9;
set m3_sm;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nosmoke;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and (smoke_4cat=3 or smoke_4cat=4) then domain_nosmoke=1;
else if (domain_m3=1 and (smoke_4cat=1 or smoke_4cat=2)) or domain_m3=0 then domain_nosmoke=0;
run;


proc sort data=nosmoke;
by _imputation_;
run;
proc surveylogistic data=nosmoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_nosmoke;
ods output parameterestimates=sm5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=sm5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_sm5;
run;
data or9;
set m3_sm5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data drink;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and (alcohol_cat=1 or alcohol_cat=2) then domain_drink=1;
else if (domain_m3=1 and alcohol_cat=0) or domain_m3=0 then domain_drink=0;
run;


proc sort data=drink;
by _imputation_;
run;
proc surveylogistic data=drink;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_drink;
ods output parameterestimates=dr3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dr3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_dr;
run;

data or9;
set m3_dr;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nodrink;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and alcohol_cat=0 then domain_nodrink=1;
else if (domain_m3=1 and (alcohol_cat=1 or alcohol_cat=2)) or domain_m3=0 then domain_nodrink=0;
run;


proc sort data=nodrink;
by _imputation_;
run;
proc surveylogistic data=nodrink;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_nodrink;
ods output parameterestimates=dr5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dr5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_dr5;
run;
data or9;
set m3_dr5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;








data waist;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and waist_cat=1 then domain_waist=1;
else if (domain_m3=1 and waist=0) or domain_m3=0 then domain_waist=0;
run;


proc sort data=waist;
by _imputation_;
run;
proc surveylogistic data=waist;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_waist;
ods output parameterestimates=w3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=w3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_w;
run;

data or9;
set m3_w;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nowaist;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and waist_cat=0 then domain_nowaist=1;
else if (domain_m3=1 and waist_cat=1) or domain_m3=0 then domain_nowaist=0;
run;


proc sort data=nowaist;
by _imputation_;
run;
proc surveylogistic data=nowaist;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_nowaist;
ods output parameterestimates=w5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=w5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_w5;
run;
data or9;
set m3_w5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;









data who;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and bmi_cat=4 then domain_who=1;
else if (domain_m3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3)) or domain_m3=0 then domain_who=0;
run;


proc sort data=who;
by _imputation_;
run;
proc surveylogistic data=who;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_who;
ods output parameterestimates=who3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=who3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_who;
run;

data or9;
set m3_who;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nowho;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3) then domain_nowho=1;
else if (domain_m3=1 and bmi_cat=4) or domain_m3=0 then domain_nowho=0;
run;


proc sort data=nowho;
by _imputation_;
run;
proc surveylogistic data=nowho;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_nowho;
ods output parameterestimates=who5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=who5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_who5;
run;
data or9;
set m3_who5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;


data none;
set mike.nhanes0912_domain2;
if highbp=0 and chf=0 and cva=0 and copd=0 and ami=0 and diab=0 and cancer=0 and ckd=0;
run;
proc freq data=none;
tables domain_m3*smoke_4cat*alcohol_cat;
run;







data onlyhtn;
set mike.nhanes0912_domain2_multimp_m3;
if domain_m3=1 and highbp=1 and cva=0 and ami=0 and chf=0 and ckd=0 and copd=0
and diab=0 and cancer=0 then domain_onlyhtn=1;
else if (domain_m3=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 or cancer=1)) 
or domain_m3=0 then domain_onlyhtn=0;
run;

proc sort data=onlyhtn;
by _imputation_;
run;
proc surveylogistic data=onlyhtn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat /covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_onlyhtn;
ods output parameterestimates=h5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=h5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat;
ods output parameterestimates=m3_h5;
run;
data or9;
set m3_h5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;




data nonlyhtn;
set mike.nhanes0912_domain2_multimp_m3;
if (domain_m3=1 and (highbp=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 
or cancer=1))) or (domain_m3=1 and highbp=0) then domain_onlyhtn=1;
else domain_onlyhtn=0;
run;


proc sort data=nonlyhtn;
by _imputation_;
run;
proc surveylogistic data=nonlyhtn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva bmi_cat/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_onlyhtn;
ods output parameterestimates=h6 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=h6 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva bmi_cat;
ods output parameterestimates=h63;
run;
data or9;
set h63;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;














/* N3 subsets by comorbidity */

data htn;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and highbp=1 then domain_bp=1;
else if (domain_m3=1 and highbp=0) or domain_m3=0 then domain_bp=0;
run;


proc sort data=htn;
by _imputation_;
run;
proc surveylogistic data=htn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab ami ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_bp;
ods output parameterestimates=bp1 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=bp1 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
ami ckd;
ods output parameterestimates=m3_bp;
run;

data or9;
set m3_bp;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;



data nohtn;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and highbp=0 then domain_bp=1;
else if (domain_m3=1 and highbp=1) or domain_m3=0 then domain_bp=0;
run;


proc sort data=nohtn;
by _imputation_;
run;
proc surveylogistic data=nohtn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab ami ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_bp;
ods output parameterestimates=bp2 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=bp2;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
ami ckd;
ods output parameterestimates=m3_bp2;
run;

data or9;
set m3_bp2;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data ami;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and ami=1 then domain_mi=1;
else if (domain_m3=1 and ami=0) or domain_m3=0 then domain_mi=0;
run;


proc sort data=ami;
by _imputation_;
run;
proc surveylogistic data=ami;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab highbp ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_mi;
ods output parameterestimates=mi1 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=mi1 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ckd;
ods output parameterestimates=m3_mi;
run;

data or9;
set m3_mi;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data noami;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and ami=0 then domain_mi=1;
else if (domain_m3=1 and ami=1) or domain_m3=0 then domain_mi=0;
run;


proc sort data=noami;
by _imputation_;
run;
proc surveylogistic data=noami;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab highbp ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_mi;
ods output parameterestimates=mi2 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=mi2 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ckd;
ods output parameterestimates=m3_mi2;
run;
data or9;
set m3_mi2;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data cva;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and cva=1 then domain_cva=1;
else if (domain_m3=1 and cva=0) or domain_m3=0 then domain_cva=0;
run;


proc sort data=cva;
by _imputation_;
run;
proc surveylogistic data=cva;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_cva;
ods output parameterestimates=cva3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cva3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp ckd;
ods output parameterestimates=m3_cva;
run;

data or9;
set m3_cva;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocva;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and cva=0 then domain_cva=1;
else if (domain_m3=1 and cva=1) or domain_m3=0 then domain_cva=0;
run;


proc sort data=nocva;
by _imputation_;
run;
proc surveylogistic data=nocva;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_cva;
ods output parameterestimates=cva4 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cva4 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp ckd;
ods output parameterestimates=m3_cva3;
run;
data or9;
set m3_cva3;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data ckd;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and ckd=1 then domain_ckd=1;
else if (domain_m3=1 and ckd=0) or domain_m3=0 then domain_ckd=0;
run;


proc sort data=ckd;
by _imputation_;
run;
proc surveylogistic data=ckd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_ckd;
ods output parameterestimates=ckd3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=ckd3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp cva;
ods output parameterestimates=m3_ckd;
run;

data or9;
set m3_ckd;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nockd;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and ckd=0 then domain_ckd=1;
else if (domain_m3=1 and ckd=1) or domain_m3=0 then domain_ckd=0;
run;


proc sort data=nockd;
by _imputation_;
run;
proc surveylogistic data=nockd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_ckd;
ods output parameterestimates=ckd5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=ckd5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp cva;
ods output parameterestimates=m3_ckd5;
run;
data or9;
set m3_ckd5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data chf;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and chf=1 then domain_chf=1;
else if (domain_m3=1 and chf=0) or domain_m3=0 then domain_chf=0;
run;


proc sort data=chf;
by _imputation_;
run;
proc surveylogistic data=chf;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_chf;
ods output parameterestimates=chf3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=chf3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd cancer diab
highbp cva;
ods output parameterestimates=m3_chf;
run;

data or9;
set m3_chf;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nochf;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and chf=0 then domain_chf=1;
else if (domain_m3=1 and chf=1) or domain_m3=0 then domain_chf=0;
run;


proc sort data=nochf;
by _imputation_;
run;
proc surveylogistic data=nochf;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_chf;
ods output parameterestimates=chf5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=chf5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd cancer diab
highbp cva ;
ods output parameterestimates=m3_chf5;
run;
data or9;
set m3_chf5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data copd;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and copd=1 then domain_copd=1;
else if (domain_m3=1 and copd=0) or domain_m3=0 then domain_copd=0;
run;


proc sort data=copd;
by _imputation_;
run;
proc surveylogistic data=copd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_copd;
ods output parameterestimates=copd3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=copd3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf cancer diab
highbp cva;
ods output parameterestimates=m3_copd;
run;

data or9;
set m3_copd;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocopd;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and copd=0 then domain_copd=1;
else if (domain_m3=1 and copd=1) or domain_m3=0 then domain_copd=0;
run;


proc sort data=nocopd;
by _imputation_;
run;
proc surveylogistic data=nocopd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_copd;
ods output parameterestimates=copd5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=copd5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf cancer diab
highbp cva;
ods output parameterestimates=m3_copd5;
run;
data or9;
set m3_copd5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data cancer;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and cancer=1 then domain_cancer=1;
else if (domain_m3=1 and cancer=0) or domain_m3=0 then domain_cancer=0;
run;


proc sort data=cancer;
by _imputation_;
run;
proc surveylogistic data=cancer;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_cancer;
ods output parameterestimates=cancer3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cancer3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd diab
highbp cva;
ods output parameterestimates=m3_cancer;
run;

data or9;
set m3_cancer;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocancer;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and cancer=0 then domain_cancer=1;
else if (domain_m3=1 and cancer=1) or domain_m3=0 then domain_cancer=0;
run;


proc sort data=nocancer;
by _imputation_;
run;
proc surveylogistic data=nocancer;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_cancer;
ods output parameterestimates=cancer5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cancer5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd diab
highbp cva;
ods output parameterestimates=m3_cancer5;
run;
data or9;
set m3_cancer5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data diab;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and diab=1 then domain_diab=1;
else if (domain_m3=1 and diab=0) or domain_m3=0 then domain_diab=0;
run;


proc sort data=diab;
by _imputation_;
run;
proc surveylogistic data=diab;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_diab;
ods output parameterestimates=dm3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dm3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_dm;
run;

data or9;
set m3_dm;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nodiab;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and diab=0 then domain_diab=1;
else if (domain_m3=1 and diab=1) or domain_m3=0 then domain_diab=0;
run;


proc sort data=nodiab;
by _imputation_;
run;
proc surveylogistic data=nodiab;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_diab;
ods output parameterestimates=dm5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dm5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_dm5;
run;
data or9;
set m3_dm5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data smoke;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and (smoke_4cat=1 or smoke_4cat=2) then domain_smoke=1;
else if (domain_m3=1 and (smoke_4cat=3 or smoke_4cat=4)) or domain_m3=0 then domain_smoke=0;
run;


proc sort data=smoke;
by _imputation_;
run;
proc surveylogistic data=smoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_smoke;
ods output parameterestimates=sm3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=sm3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_sm;
run;

data or9;
set m3_sm;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nosmoke;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and (smoke_4cat=3 or smoke_4cat=4) then domain_nosmoke=1;
else if (domain_m3=1 and (smoke_4cat=1 or smoke_4cat=2)) or domain_m3=0 then domain_nosmoke=0;
run;


proc sort data=nosmoke;
by _imputation_;
run;
proc surveylogistic data=nosmoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_nosmoke;
ods output parameterestimates=sm5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=sm5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_sm5;
run;
data or9;
set m3_sm5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data drink;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and (alcohol_cat=1 or alcohol_cat=2) then domain_drink=1;
else if (domain_m3=1 and alcohol_cat=0) or domain_m3=0 then domain_drink=0;
run;


proc sort data=drink;
by _imputation_;
run;
proc surveylogistic data=drink;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_drink;
ods output parameterestimates=dr3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dr3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_dr;
run;

data or9;
set m3_dr;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nodrink;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and alcohol_cat=0 then domain_nodrink=1;
else if (domain_m3=1 and (alcohol_cat=1 or alcohol_cat=2)) or domain_m3=0 then domain_nodrink=0;
run;


proc sort data=nodrink;
by _imputation_;
run;
proc surveylogistic data=nodrink;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_nodrink;
ods output parameterestimates=dr5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dr5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_dr5;
run;
data or9;
set m3_dr5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;








data waist;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and waist_cat=1 then domain_waist=1;
else if (domain_m3=1 and waist=0) or domain_m3=0 then domain_waist=0;
run;


proc sort data=waist;
by _imputation_;
run;
proc surveylogistic data=waist;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_waist;
ods output parameterestimates=w3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=w3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_w;
run;

data or9;
set m3_w;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nowaist;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and waist_cat=0 then domain_nowaist=1;
else if (domain_m3=1 and waist_cat=1) or domain_m3=0 then domain_nowaist=0;
run;


proc sort data=nowaist;
by _imputation_;
run;
proc surveylogistic data=nowaist;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_nowaist;
ods output parameterestimates=w5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=w5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_w5;
run;
data or9;
set m3_w5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;









data who;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and bmi_cat=4 then domain_who=1;
else if (domain_m3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3)) or domain_m3=0 then domain_who=0;
run;


proc sort data=who;
by _imputation_;
run;
proc surveylogistic data=who;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_who;
ods output parameterestimates=who3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=who3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_who;
run;

data or9;
set m3_who;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nowho;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3) then domain_nowho=1;
else if (domain_m3=1 and bmi_cat=4) or domain_m3=0 then domain_nowho=0;
run;


proc sort data=nowho;
by _imputation_;
run;
proc surveylogistic data=nowho;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_nowho;
ods output parameterestimates=who5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=who5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=m3_who5;
run;
data or9;
set m3_who5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;










data onlyhtn3;
set mike.nhanes3_domain3_multimp_m3;
if domain_m3=1 and highbp=1 and cva=0 and ami=0 and chf=0 and ckd=0 and copd=0
and diab=0 and cancer=0 then domain_onlyhtn=1;
else if (domain_m3=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 or cancer=1)) 
or domain_m3=0 then domain_onlyhtn=0;
run;

proc sort data=onlyhtn3;
by _imputation_;
run;
proc surveylogistic data=onlyhtn3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat /covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_onlyhtn;
ods output parameterestimates=h52 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=h52 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat;
ods output parameterestimates=m3_h52;
run;
data or9;
set m3_h52;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;




data nonlyhtn3;
set mike.nhanes3_domain3_multimp_m3;
if (domain_m3=1 and (highbp=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 
or cancer=1))) or (domain_m3=1 and highbp=0) then domain_onlyhtn=1;
else domain_onlyhtn=0;
run;


proc sort data=nonlyhtn3;
by _imputation_;
run;
proc surveylogistic data=nonlyhtn3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva bmi_cat/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_onlyhtn;
ods output parameterestimates=h77 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=h77 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva bmi_cat;
ods output parameterestimates=h77a;
run;
data or9;
set h77a;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





























/* N0912 subsets by comorbidity */
/*WOMEN */

data htn;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and highbp=1 then domain_bp=1;
else if (domain_f3=1 and highbp=0) or domain_f3=0 then domain_bp=0;
run;


proc sort data=htn;
by _imputation_;
run;
proc surveylogistic data=htn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab ami ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_bp;
ods output parameterestimates=bp1 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=bp1 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
ami ckd;
ods output parameterestimates=f3_bp;
run;

data or9;
set f3_bp;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;



data nohtn;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and highbp=0 then domain_bp=1;
else if (domain_f3=1 and highbp=1) or domain_f3=0 then domain_bp=0;
run;


proc sort data=nohtn;
by _imputation_;
run;
proc surveylogistic data=nohtn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab ami ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_bp;
ods output parameterestimates=bp2 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=bp2;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
ami ckd;
ods output parameterestimates=f3_bp2;
run;

data or9;
set f3_bp2;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data ami;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and ami=1 then domain_mi=1;
else if (domain_f3=1 and ami=0) or domain_f3=0 then domain_mi=0;
run;


proc sort data=ami;
by _imputation_;
run;
proc surveylogistic data=ami;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat married smoke_4cat bmi_cat chf cva copd 
cancer diab highbp ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_mi;
ods output parameterestimates=mi1 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=mi1 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat married smoke_4cat bmi_cat chf cva copd cancer diab
highbp ckd;
ods output parameterestimates=f3_mi;
run;

data or9;
set f3_mi;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;



data noami;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and ami=0 then domain_mi=1;
else if (domain_f3=1 and ami=1) or domain_f3=0 then domain_mi=0;
run;


proc sort data=noami;
by _imputation_;
run;
proc surveylogistic data=noami;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab highbp ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_mi;
ods output parameterestimates=mi2 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=mi2 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ckd;
ods output parameterestimates=f3_mi2;
run;
data or9;
set f3_mi2;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data cva;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and cva=1 then domain_cva=1;
else if (domain_f3=1 and cva=0) or domain_f3=0 then domain_cva=0;
run;


proc sort data=cva;
by _imputation_;
run;
proc surveylogistic data=cva;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat bmi_cat chf ami copd 
cancer diab highbp ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_cva;
ods output parameterestimates=cva3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cva3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat bmi_cat chf ami copd cancer diab
highbp ckd;
ods output parameterestimates=f3_cva;
run;

data or9;
set f3_cva;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocva;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and cva=0 then domain_cva=1;
else if (domain_f3=1 and cva=1) or domain_f3=0 then domain_cva=0;
run;


proc sort data=nocva;
by _imputation_;
run;
proc surveylogistic data=nocva;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp ckd/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_cva;
ods output parameterestimates=cva4 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cva4 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp ckd;
ods output parameterestimates=f3_cva3;
run;
data or9;
set f3_cva3;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data ckd;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and ckd=1 then domain_ckd=1;
else if (domain_f3=1 and ckd=0) or domain_f3=0 then domain_ckd=0;
run;


proc sort data=ckd;
by _imputation_;
run;
proc surveylogistic data=ckd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_ckd;
ods output parameterestimates=ckd3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=ckd3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp cva;
ods output parameterestimates=f3_ckd;
run;

data or9;
set f3_ckd;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nockd;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and ckd=0 then domain_ckd=1;
else if (domain_f3=1 and ckd=1) or domain_f3=0 then domain_ckd=0;
run;


proc sort data=nockd;
by _imputation_;
run;
proc surveylogistic data=nockd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_ckd;
ods output parameterestimates=ckd5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=ckd5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp cva;
ods output parameterestimates=f3_ckd5;
run;
data or9;
set f3_ckd5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data chf;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and chf=1 then domain_chf=1;
else if (domain_f3=1 and chf=0) or domain_f3=0 then domain_chf=0;
run;


proc sort data=chf;
by _imputation_;
run;
proc surveylogistic data=chf;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_chf;
ods output parameterestimates=chf3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=chf3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd cancer diab
highbp cva;
ods output parameterestimates=f3_chf;
run;

data or9;
set f3_chf;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nochf;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and chf=0 then domain_chf=1;
else if (domain_f3=1 and chf=1) or domain_f3=0 then domain_chf=0;
run;


proc sort data=nochf;
by _imputation_;
run;
proc surveylogistic data=nochf;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_chf;
ods output parameterestimates=chf5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=chf5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd cancer diab
highbp cva;
ods output parameterestimates=f3_chf5;
run;
data or9;
set f3_chf5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data copd;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and copd=1 then domain_copd=1;
else if (domain_f3=1 and copd=0) or domain_f3=0 then domain_copd=0;
run;


proc sort data=copd;
by _imputation_;
run;
proc surveylogistic data=copd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_copd;
ods output parameterestimates=copd3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=copd3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf cancer diab
highbp cva ;
ods output parameterestimates=f3_copd;
run;

data or9;
set f3_copd;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocopd;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and copd=0 then domain_copd=1;
else if (domain_f3=1 and copd=1) or domain_f3=0 then domain_copd=0;
run;


proc sort data=nocopd;
by _imputation_;
run;
proc surveylogistic data=nocopd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
cancer diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_copd;
ods output parameterestimates=copd5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=copd5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf cancer diab
highbp cva;
ods output parameterestimates=f3_copd5;
run;
data or9;
set f3_copd5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data cancer;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and cancer=1 then domain_cancer=1;
else if (domain_f3=1 and cancer=0) or domain_f3=0 then domain_cancer=0;
run;


proc sort data=cancer;
by _imputation_;
run;
proc surveylogistic data=cancer;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_cancer;
ods output parameterestimates=cancer3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cancer3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd diab
highbp cva;
ods output parameterestimates=f3_cancer;
run;

data or9;
set f3_cancer;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocancer;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and cancer=0 then domain_cancer=1;
else if (domain_f3=1 and cancer=1) or domain_f3=0 then domain_cancer=0;
run;


proc sort data=nocancer;
by _imputation_;
run;
proc surveylogistic data=nocancer;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd diab highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_cancer;
ods output parameterestimates=cancer5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cancer5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd diab
highbp cva;
ods output parameterestimates=f3_cancer5;
run;
data or9;
set f3_cancer5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data diab;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and diab=1 then domain_diab=1;
else if (domain_f3=1 and diab=0) or domain_f3=0 then domain_diab=0;
run;


proc sort data=diab;
by _imputation_;
run;
proc surveylogistic data=diab;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_diab;
ods output parameterestimates=df3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=df3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_dm;
run;

data or9;
set f3_dm;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nodiab;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and diab=0 then domain_diab=1;
else if (domain_f3=1 and diab=1) or domain_f3=0 then domain_diab=0;
run;


proc sort data=nodiab;
by _imputation_;
run;
proc surveylogistic data=nodiab;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_diab;
ods output parameterestimates=dm5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dm5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_dm5;
run;
data or9;
set f3_dm5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data smoke;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and (smoke_4cat=1 or smoke_4cat=2) then domain_smoke=1;
else if (domain_f3=1 and (smoke_4cat=3 or smoke_4cat=4)) or domain_f3=0 then domain_smoke=0;
run;


proc sort data=smoke;
by _imputation_;
run;
proc surveylogistic data=smoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_smoke;
ods output parameterestimates=sf3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=sf3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_sm;
run;

data or9;
set f3_sm;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nosmoke;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and (smoke_4cat=3 or smoke_4cat=4) then domain_nosmoke=1;
else if (domain_f3=1 and (smoke_4cat=1 or smoke_4cat=2)) or domain_f3=0 then domain_nosmoke=0;
run;


proc sort data=nosmoke;
by _imputation_;
run;
proc surveylogistic data=nosmoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_nosmoke;
ods output parameterestimates=sm5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=sm5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_sm5;
run;
data or9;
set f3_sm5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data drink;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and (alcohol_cat=1 or alcohol_cat=2) then domain_drink=1;
else if (domain_f3=1 and alcohol_cat=0) or domain_f3=0 then domain_drink=0;
run;


proc sort data=drink;
by _imputation_;
run;
proc surveylogistic data=drink;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_drink;
ods output parameterestimates=dr3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dr3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_dr;
run;

data or9;
set f3_dr;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nodrink;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and alcohol_cat=0 then domain_nodrink=1;
else if (domain_f3=1 and (alcohol_cat=1 or alcohol_cat=2)) or domain_f3=0 then domain_nodrink=0;
run;


proc sort data=nodrink;
by _imputation_;
run;
proc surveylogistic data=nodrink;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_nodrink;
ods output parameterestimates=dr5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dr5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_dr5;
run;
data or9;
set f3_dr5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;








data waist;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and waist_cat=1 then domain_waist=1;
else if (domain_f3=1 and waist=0) or domain_f3=0 then domain_waist=0;
run;


proc sort data=waist;
by _imputation_;
run;
proc surveylogistic data=waist;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_waist;
ods output parameterestimates=w3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=w3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_w;
run;

data or9;
set f3_w;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nowaist;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and waist_cat=0 then domain_nowaist=1;
else if (domain_f3=1 and waist_cat=1) or domain_f3=0 then domain_nowaist=0;
run;


proc sort data=nowaist;
by _imputation_;
run;
proc surveylogistic data=nowaist;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_nowaist;
ods output parameterestimates=w5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=w5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_w5;
run;
data or9;
set f3_w5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;









data who;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and bmi_cat=4 then domain_who=1;
else if (domain_f3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3)) or domain_f3=0 then domain_who=0;
run;


proc sort data=who;
by _imputation_;
run;
proc surveylogistic data=who;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_who;
ods output parameterestimates=who3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=who3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_who;
run;

data or9;
set f3_who;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nowho;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3) then domain_nowho=1;
else if (domain_f3=1 and bmi_cat=4) or domain_f3=0 then domain_nowho=0;
run;


proc sort data=nowho;
by _imputation_;
run;
proc surveylogistic data=nowho;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_nowho;
ods output parameterestimates=who5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=who5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_who5;
run;
data or9;
set f3_who5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;


data none;
set mike.nhanes0912_domain2;
if highbp=0 and chf=0 and cva=0 and copd=0 and ami=0 and diab=0 and cancer=0 and ckd=0;
run;
proc freq data=none;
tables domain_f3*smoke_4cat*alcohol_cat;
run;




data onlyhtn9;
set mike.nhanes0912_domain2_multimp_f3;
if domain_f3=1 and highbp=1 and cva=0 and ami=0 and chf=0 and ckd=0 and copd=0
and diab=0 and cancer=0 then domain_onlyhtn=1;
else if (domain_f3=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 or cancer=1)) 
or domain_f3=0 then domain_onlyhtn=0;
run;

proc sort data=onlyhtn9;
by _imputation_;
run;
proc surveylogistic data=onlyhtn9;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat /covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_onlyhtn;
ods output parameterestimates=h521a oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=h521a ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat;
ods output parameterestimates=f3_h521a;
run;
data or9;
set f3_h521a;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;




data nonlyhtn9;
set mike.nhanes0912_domain2_multimp_f3;
if (domain_f3=1 and (highbp=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 
or cancer=1))) or (domain_f3=1 and highbp=0) then domain_onlyhtn=1;
else domain_onlyhtn=0;
run;


proc sort data=nonlyhtn9;
by _imputation_;
run;
proc surveylogistic data=nonlyhtn9;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva bmi_cat/covb;
stratum stratum;
cluster psu;
weight weight4y;
by _imputation_;
domain domain_onlyhtn;
ods output parameterestimates=h77ba oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=h77ba ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva bmi_cat;
ods output parameterestimates=h77ca;
run;
data or9;
set h77ca;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;








/* N3 subsets by comorbidity */

data htn;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and highbp=1 then domain_bp=1;
else if (domain_f3=1 and highbp=0) or domain_f3=0 then domain_bp=0;
run;
 
proc sort data=htn;
by _imputation_;
run;
proc surveylogistic data=htn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab ami ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_bp;
ods output parameterestimates=bp1 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=bp1 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
ami ckd;
ods output parameterestimates=f3_bp;
run;

data or9;
set f3_bp;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;



data nohtn;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and highbp=0 then domain_bp=1;
else if (domain_f3=1 and highbp=1) or domain_f3=0 then domain_bp=0;
run;


proc sort data=nohtn;
by _imputation_;
run;
proc surveylogistic data=nohtn;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab ami ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_bp;
ods output parameterestimates=bp2 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=bp2;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
ami ckd;
ods output parameterestimates=f3_bp2;
run;

data or9;
set f3_bp2;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data ami;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and ami=1 then domain_mi=1;
else if (domain_f3=1 and ami=0) or domain_f3=0 then domain_mi=0;
run;


proc sort data=ami;
by _imputation_;
run;
proc surveylogistic data=ami;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab highbp ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_mi;
ods output parameterestimates=mi1 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=mi1 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ckd;
ods output parameterestimates=f3_mi;
run;

data or9;
set f3_mi;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data noami;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and ami=0 then domain_mi=1;
else if (domain_f3=1 and ami=1) or domain_f3=0 then domain_mi=0;
run;


proc sort data=noami;
by _imputation_;
run;
proc surveylogistic data=noami;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd 
cancer diab highbp ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_mi;
ods output parameterestimates=mi2 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=mi2 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ckd;
ods output parameterestimates=f3_mi2;
run;
data or9;
set f3_mi2;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data cva;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and cva=1 then domain_cva=1;
else if (domain_f3=1 and cva=0) or domain_f3=0 then domain_cva=0;
run;


proc sort data=cva;
by _imputation_;
run;
proc surveylogistic data=cva;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat  bmi_cat chf ami copd 
cancer diab highbp ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_cva;
ods output parameterestimates=cva3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cva3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat  bmi_cat chf ami copd cancer diab
highbp ckd;
ods output parameterestimates=f3_cva;
run;

data or9;
set f3_cva;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocva;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and cva=0 then domain_cva=1;
else if (domain_f3=1 and cva=1) or domain_f3=0 then domain_cva=0;
run;


proc sort data=nocva;
by _imputation_;
run;
proc surveylogistic data=nocva;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp ckd/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_cva;
ods output parameterestimates=cva4 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cva4 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp ckd;
ods output parameterestimates=f3_cva3;
run;
data or9;
set f3_cva3;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data ckd;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and ckd=1 then domain_ckd=1;
else if (domain_f3=1 and ckd=0) or domain_f3=0 then domain_ckd=0;
run;


proc sort data=ckd;
by _imputation_;
run;
proc surveylogistic data=ckd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_ckd;
ods output parameterestimates=ckd3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=ckd3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp cva;
ods output parameterestimates=f3_ckd;
run;

data or9;
set f3_ckd;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nockd;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and ckd=0 then domain_ckd=1;
else if (domain_f3=1 and ckd=1) or domain_f3=0 then domain_ckd=0;
run;


proc sort data=nockd;
by _imputation_;
run;
proc surveylogistic data=nockd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_ckd;
ods output parameterestimates=ckd5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=ckd5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf ami copd cancer diab
highbp cva;
ods output parameterestimates=f3_ckd5;
run;
data or9;
set f3_ckd5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data chf;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and chf=1 then domain_chf=1;
else if (domain_f3=1 and chf=0) or domain_f3=0 then domain_chf=0;
run;


proc sort data=chf;
by _imputation_;
run;
proc surveylogistic data=chf;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_chf;
ods output parameterestimates=chf3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=chf3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd cancer diab
highbp cva;
ods output parameterestimates=f3_chf;
run;

data or9;
set f3_chf;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nochf;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and chf=0 then domain_chf=1;
else if (domain_f3=1 and chf=1) or domain_f3=0 then domain_chf=0;
run;


proc sort data=nochf;
by _imputation_;
run;
proc surveylogistic data=nochf;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_chf;
ods output parameterestimates=chf5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=chf5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami copd cancer diab
highbp cva ;
ods output parameterestimates=f3_chf5;
run;
data or9;
set f3_chf5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data copd;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and copd=1 then domain_copd=1;
else if (domain_f3=1 and copd=0) or domain_f3=0 then domain_copd=0;
run;


proc sort data=copd;
by _imputation_;
run;
proc surveylogistic data=copd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_copd;
ods output parameterestimates=copd3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=copd3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf cancer diab
highbp cva;
ods output parameterestimates=f3_copd;
run;

data or9;
set f3_copd;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocopd;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and copd=0 then domain_copd=1;
else if (domain_f3=1 and copd=1) or domain_f3=0 then domain_copd=0;
run;


proc sort data=nocopd;
by _imputation_;
run;
proc surveylogistic data=nocopd;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
cancer diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_copd;
ods output parameterestimates=copd5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=copd5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf cancer diab
highbp cva;
ods output parameterestimates=f3_copd5;
run;
data or9;
set f3_copd5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data cancer;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and cancer=1 then domain_cancer=1;
else if (domain_f3=1 and cancer=0) or domain_f3=0 then domain_cancer=0;
run;


proc sort data=cancer;
by _imputation_;
run;
proc surveylogistic data=cancer;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_cancer;
ods output parameterestimates=cancer3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cancer3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd diab
highbp cva;
ods output parameterestimates=f3_cancer;
run;

data or9;
set f3_cancer;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nocancer;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and cancer=0 then domain_cancer=1;
else if (domain_f3=1 and cancer=1) or domain_f3=0 then domain_cancer=0;
run;


proc sort data=nocancer;
by _imputation_;
run;
proc surveylogistic data=nocancer;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd diab highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_cancer;
ods output parameterestimates=cancer5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=cancer5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd diab
highbp cva;
ods output parameterestimates=f3_cancer5;
run;
data or9;
set f3_cancer5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






data diab;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and diab=1 then domain_diab=1;
else if (domain_f3=1 and diab=0) or domain_f3=0 then domain_diab=0;
run;


proc sort data=diab;
by _imputation_;
run;
proc surveylogistic data=diab;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_diab;
ods output parameterestimates=df3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=df3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_dm;
run;

data or9;
set f3_dm;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nodiab;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and diab=0 then domain_diab=1;
else if (domain_f3=1 and diab=1) or domain_f3=0 then domain_diab=0;
run;


proc sort data=nodiab;
by _imputation_;
run;
proc surveylogistic data=nodiab;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_diab;
ods output parameterestimates=dm5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dm5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_dm5;
run;
data or9;
set f3_dm5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data smoke;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and (smoke_4cat=1 or smoke_4cat=2) then domain_smoke=1;
else if (domain_f3=1 and (smoke_4cat=3 or smoke_4cat=4)) or domain_f3=0 then domain_smoke=0;
run;


proc sort data=smoke;
by _imputation_;
run;
proc surveylogistic data=smoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_smoke;
ods output parameterestimates=sf3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=sf3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_sm;
run;

data or9;
set f3_sm;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nosmoke;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and (smoke_4cat=3 or smoke_4cat=4) then domain_nosmoke=1;
else if (domain_f3=1 and (smoke_4cat=1 or smoke_4cat=2)) or domain_f3=0 then domain_nosmoke=0;
run;


proc sort data=nosmoke;
by _imputation_;
run;
proc surveylogistic data=nosmoke;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_nosmoke;
ods output parameterestimates=sm5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=sm5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab alcohol_cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_sm5;
run;
data or9;
set f3_sm5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;







data drink;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and (alcohol_cat=1 or alcohol_cat=2) then domain_drink=1;
else if (domain_f3=1 and alcohol_cat=0) or domain_f3=0 then domain_drink=0;
run;


proc sort data=drink;
by _imputation_;
run;
proc surveylogistic data=drink;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_drink;
ods output parameterestimates=dr3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dr3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_dr;
run;

data or9;
set f3_dr;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nodrink;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and alcohol_cat=0 then domain_nodrink=1;
else if (domain_f3=1 and (alcohol_cat=1 or alcohol_cat=2)) or domain_f3=0 then domain_nodrink=0;
run;


proc sort data=nodrink;
by _imputation_;
run;
proc surveylogistic data=nodrink;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_nodrink;
ods output parameterestimates=dr5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=dr5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married diab smoke_4cat bmi_cat ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_dr5;
run;
data or9;
set f3_dr5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;








data waist;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and waist_cat=1 then domain_waist=1;
else if (domain_f3=1 and waist=0) or domain_f3=0 then domain_waist=0;
run;


proc sort data=waist;
by _imputation_;
run;
proc surveylogistic data=waist;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_waist;
ods output parameterestimates=w3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=w3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_w;
run;

data or9;
set f3_w;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nowaist;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and waist_cat=0 then domain_nowaist=1;
else if (domain_f3=1 and waist_cat=1) or domain_f3=0 then domain_nowaist=0;
run;


proc sort data=nowaist;
by _imputation_;
run;
proc surveylogistic data=nowaist;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_nowaist;
ods output parameterestimates=w5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=w5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_w5;
run;
data or9;
set f3_w5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;









data who;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and bmi_cat=4 then domain_who=1;
else if (domain_f3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3)) or domain_f3=0 then domain_who=0;
run;


proc sort data=who;
by _imputation_;
run;
proc surveylogistic data=who;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_who;
ods output parameterestimates=who3 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=who3 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_who;
run;

data or9;
set f3_who;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;





data nowho;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3) then domain_nowho=1;
else if (domain_f3=1 and bmi_cat=4) or domain_f3=0 then domain_nowho=0;
run;


proc sort data=nowho;
by _imputation_;
run;
proc surveylogistic data=nowho;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_nowho;
ods output parameterestimates=who5 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=who5 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva;
ods output parameterestimates=f3_who5;
run;
data or9;
set f3_who5;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;








data onlyhtn3;
set mike.nhanes3_domain3_multimp_f3;
if domain_f3=1 and highbp=1 and cva=0 and ami=0 and chf=0 and ckd=0 and copd=0
and diab=0 and cancer=0 then domain_onlyhtn=1;
else if (domain_f3=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 or cancer=1)) 
or domain_f3=0 then domain_onlyhtn=0;
run;

proc sort data=onlyhtn3;
by _imputation_;
run;
proc surveylogistic data=onlyhtn3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat bmi_cat /covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_onlyhtn;
ods output parameterestimates=h521 oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=h521 ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat bmi_cat;
ods output parameterestimates=f3_h521;
run;
data or9;
set f3_h521;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;




data nonlyhtn3;
set mike.nhanes3_domain3_multimp_f3;
if (domain_f3=1 and (highbp=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 
or cancer=1))) or (domain_f3=1 and highbp=0) then domain_onlyhtn=1;
else domain_onlyhtn=0;
run;


proc sort data=nonlyhtn3;
by _imputation_;
run;
proc surveylogistic data=nonlyhtn3;
class edlevel(param=ref ref='3') race(param=ref ref='1') married(param=ref ref='1') waist_cat(param=ref ref='0') 
smoke_4cat(param=ref ref='4') alcohol_cat(param=ref ref='1') bmi_cat(param=ref ref='2') 
chf(param=ref ref='0') cva(param=ref ref='0') copd(param=ref ref='0') ckd(param=ref ref='0')
cancer(param=ref ref='0') diab(param=ref ref='0') highbp(param=ref ref='0')
ami(param=ref ref='0') agecat(param=ref ref='1');
model dead(ref='0')=edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf 
copd cancer highbp cva bmi_cat/covb;
stratum stratum6;
cluster psu6;
weight wtpfex6;
by _imputation_;
domain domain_onlyhtn;
ods output parameterestimates=h77b oddsratios=lgsodds covb=covariances;
run;
proc mianalyze parms(classvar=classval)=h77b ;
class edlevel agecat race married smoke_4cat alcohol_cat bmi_cat chf cva copd cancer diab
highbp ami ckd; 
modeleffects intercept edlevel agecat race married smoke_4cat alcohol_cat diab ckd ami chf copd cancer
highbp cva bmi_cat;
ods output parameterestimates=h77c;
run;
data or9;
set h77c;
or=exp(estimate);
lcl=exp(lclmean);
ucl=exp(uclmean);
run;
proc print data=or9;
var parm or lcl ucl probt;
run;






/* crude mortality */

/* men 0912 */

data htn;
set mike.nhanes0912_domain2;
if domain_m3=1 and highbp=1 then domain_bp=1;
else if (domain_m3=1 and highbp=0) or domain_m3=0 then domain_bp=0;
run;
proc sort data=htn;
by domain_bp edlevel;
run;
proc surveymeans data=htn sum stacking;
var dead dur2;
by domain_bp edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=htns;
run;
proc print data=htns;
run;
data htn1;
set htns;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=htn1;
run;



data nohtn;
set mike.nhanes0912_domain2;
if domain_m3=1 and highbp=0 then domain_bp=1;
else if (domain_m3=1 and highbp=1) or domain_m3=0 then domain_bp=0;
run;
proc sort data=nohtn;
by domain_bp edlevel;
run;
proc surveymeans data=nohtn sum stacking;
var dead dur2;
by domain_bp edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=htnd;
run;
data htn2;
set htnd;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=htn2;
run;




data ami;
set mike.nhanes0912_domain2;
if domain_m3=1 and ami=1 then domain_mi=1;
else if (domain_m3=1 and ami=0) or domain_m3=0 then domain_mi=0;
run;
proc sort data=ami;
by domain_mi edlevel;
run;
proc surveymeans data=ami sum stacking;
var dead dur2;
by domain_mi edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=mi2;
run;
data mi2;
set mi2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=mi2;
run;




data noami;
set mike.nhanes0912_domain2;
if domain_m3=1 and ami=0 then domain_mi=1;
else if (domain_m3=1 and ami=1) or domain_m3=0 then domain_mi=0;
run;
proc sort data=noami;
by domain_mi edlevel;
run;
proc surveymeans data=noami sum stacking;
var dead dur2;
by domain_mi edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=ami2;
run;
data ami2;
set ami2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ami2;
run;




data cva;
set mike.nhanes0912_domain2;
if domain_m3=1 and cva=1 then domain_cva=1;
else if (domain_m3=1 and cva=0) or domain_m3=0 then domain_cva=0;
run;
proc sort data=cva;
by domain_cva edlevel;
run;
proc surveymeans data=cva sum stacking;
var dead dur2;
by domain_cva edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=cva2;
run;
data cva2;
set cva2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cva2;
run;



data nocva;
set mike.nhanes0912_domain2;
if domain_m3=1 and cva=0 then domain_cva=1;
else if (domain_m3=1 and cva=1) or domain_m3=0 then domain_cva=0;
run;
proc sort data=nocva;
by domain_cva edlevel;
run;
proc surveymeans data=nocva sum stacking;
var dead dur2;
by domain_cva edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=cva3;
run;
data cva3;
set cva3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cva3;
run;




data ckd;
set mike.nhanes0912_domain2;
if domain_m3=1 and ckd=1 then domain_ckd=1;
else if (domain_m3=1 and ckd=0) or domain_m3=0 then domain_ckd=0;
run;
proc sort data=ckd;
by domain_ckd edlevel;
run;
proc surveymeans data=ckd sum stacking;
var dead dur2;
by domain_ckd edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=ckd3;
run;
data ckd3;
set ckd3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ckd3;
run;



data nockd;
set mike.nhanes0912_domain2;
if domain_m3=1 and ckd=0 then domain_ckd=1;
else if (domain_m3=1 and ckd=1) or domain_m3=0 then domain_ckd=0;
run;
proc sort data=nockd;
by domain_ckd edlevel;
run;
proc surveymeans data=nockd sum stacking;
var dead dur2;
by domain_ckd edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=ckd4;
run;
data ckd4;
set ckd4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ckd4;
run;


data chf;
set mike.nhanes0912_domain2;
if domain_m3=1 and chf=1 then domain_chf=1;
else if (domain_m3=1 and chf=0) or domain_m3=0 then domain_chf=0;
run;
proc sort data=chf;
by domain_chf edlevel;
run;
proc surveymeans data=chf sum stacking;
var dead dur2;
by domain_chf edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=chf3;
run;
data chf3;
set chf3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=chf3;
run;





data nochf;
set mike.nhanes0912_domain2;
if domain_m3=1 and chf=0 then domain_chf=1;
else if (domain_m3=1 and chf=1) or domain_m3=0 then domain_chf=0;
run;
proc sort data=nochf;
by domain_chf edlevel;
run;
proc surveymeans data=nochf sum stacking;
var dead dur2;
by domain_chf edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=chf4;
run;
data chf4;
set chf4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=chf4;
run;





data copd;
set mike.nhanes0912_domain2;
if domain_m3=1 and copd=1 then domain_copd=1;
else if (domain_m3=1 and copd=0) or domain_m3=0 then domain_copd=0;
run;
proc sort data=copd;
by domain_copd edlevel;
run;
proc surveymeans data=copd sum stacking;
var dead dur2;
by domain_copd edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=copd3;
run;
data copd3;
set copd3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=copd3;
run;


data nocopd;
set mike.nhanes0912_domain2;
if domain_m3=1 and copd=0 then domain_copd=1;
else if (domain_m3=1 and copd=1) or domain_m3=0 then domain_copd=0;
run;
proc sort data=nocopd;
by domain_copd edlevel;
run;
proc surveymeans data=nocopd sum stacking;
var dead dur2;
by domain_copd edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=copd4;
run;
data copd4;
set copd4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=copd4;
run;







data cancer;
set mike.nhanes0912_domain2;
if domain_m3=1 and cancer=1 then domain_cancer=1;
else if (domain_m3=1 and cancer=0) or domain_m3=0 then domain_cancer=0;
run;
proc sort data=cancer;
by domain_cancer edlevel;
run;
proc surveymeans data=cancer sum stacking;
var dead dur2;
by domain_cancer edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=cancer3;
run;
data cancer3;
set cancer3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cancer3;
run;



data nocancer;
set mike.nhanes0912_domain2;
if domain_m3=1 and cancer=0 then domain_cancer=1;
else if (domain_m3=1 and cancer=1) or domain_m3=0 then domain_cancer=0;
run;
proc sort data=nocancer;
by domain_cancer edlevel;
run;
proc surveymeans data=nocancer sum stacking;
var dead dur2;
by domain_cancer edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=cancer4;
run;
data cancer4;
set cancer4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cancer4;
run;





data diab;
set mike.nhanes0912_domain2;
if domain_m3=1 and diab=1 then domain_diab=1;
else if (domain_m3=1 and diab=0) or domain_m3=0 then domain_diab=0;
run;
proc sort data=diab;
by domain_diab edlevel;
run;
proc surveymeans data=diab sum stacking;
var dead dur2;
by domain_diab edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=diab3;
run;
data diab3;
set diab3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=diab3;
run;





data nodiab;
set mike.nhanes0912_domain2;
if domain_m3=1 and diab=0 then domain_diab=1;
else if (domain_m3=1 and diab=1) or domain_m3=0 then domain_diab=0;
run;
proc sort data=nodiab;
by domain_diab edlevel;
run;
proc surveymeans data=nodiab sum stacking;
var dead dur2;
by domain_diab edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=diab4;
run;
data diab4;
set diab4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=diab4;
run;



data smoke;
set mike.nhanes0912_domain2;
if domain_m3=1 and (smoke_4cat=1 or smoke_4cat=2) then domain_smoke=1;
else if (domain_m3=1 and (smoke_4cat=3 or smoke_4cat=4)) or domain_m3=0 then domain_smoke=0;
run;
proc sort data=smoke;
by domain_smoke edlevel;
run;
proc surveymeans data=smoke sum stacking;
var dead dur2;
by domain_smoke edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=smoke3;
run;
data smoke3;
set smoke3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=smoke3;
run;





data nosmoke;
set mike.nhanes0912_domain2;
if domain_m3=1 and (smoke_4cat=3 or smoke_4cat=4) then domain_nosmoke=1;
else if (domain_m3=1 and (smoke_4cat=1 or smoke_4cat=2)) or domain_m3=0 then domain_nosmoke=0;
run;
proc sort data=nosmoke;
by domain_nosmoke edlevel;
run;
proc surveymeans data=nosmoke sum stacking;
var dead dur2;
by domain_nosmoke edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=smoke4;
run;
data smoke4;
set smoke4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=smoke4;
run;





data drink;
set mike.nhanes0912_domain2;
if domain_m3=1 and (alcohol_cat=1 or alcohol_cat=2) then domain_drink=1;
else if (domain_m3=1 and alcohol_cat=0) or domain_m3=0 then domain_drink=0;
run;
proc sort data=drink;
by domain_drink edlevel;
run;
proc surveymeans data=drink sum stacking;
var dead dur2;
by domain_drink edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=drink3;
run;
data drink3;
set drink3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=drink3;
run;



data nodrink;
set mike.nhanes0912_domain2;
if domain_m3=1 and alcohol_cat=0 then domain_nodrink=1;
else if (domain_m3=1 and (alcohol_cat=1 or alcohol_cat=2)) or domain_m3=0 then domain_nodrink=0;
run;
proc sort data=nodrink;
by domain_nodrink edlevel;
run;
proc surveymeans data=nodrink sum stacking;
var dead dur2;
by domain_nodrink edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=drink4;
run;
data drink4;
set drink4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=drink4;
run;






data waist;
set mike.nhanes0912_domain2;
if domain_m3=1 and waist_cat=1 then domain_waist=1;
else if (domain_m3=1 and waist=0) or domain_m3=0 then domain_waist=0;
run;
proc sort data=waist;
by domain_waist edlevel;
run;
proc surveymeans data=waist sum stacking;
var dead dur2;
by domain_waist edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=waist3;
run;
data waist3;
set waist3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=waist3;
run;



data nowaist;
set mike.nhanes0912_domain2;
if domain_m3=1 and waist_cat=0 then domain_nowaist=1;
else if (domain_m3=1 and waist_cat=1) or domain_m3=0 then domain_nowaist=0;
run;
proc sort data=nowaist;
by domain_nowaist edlevel;
run;
proc surveymeans data=nowaist sum stacking;
var dead dur2;
by domain_nowaist edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=waist3a;
run;
data waist3a;
set waist3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=waist3a;
run;





data who;
set mike.nhanes0912_domain2;
if domain_m3=1 and bmi_cat=4 then domain_who=1;
else if (domain_m3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3)) or domain_m3=0 then domain_who=0;
run;
proc sort data=who;
by domain_who edlevel;
run;
proc surveymeans data=who sum stacking;
var dead dur2;
by domain_who edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=who3;
run;
data who3;
set who3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=who3;
run;





data nowho;
set mike.nhanes0912_domain2;
if domain_m3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3) then domain_nowho=1;
else if (domain_m3=1 and bmi_cat=4) or domain_m3=0 then domain_nowho=0;
run;
proc sort data=nowho;
by domain_nowho edlevel;
run;
proc surveymeans data=nowho sum stacking;
var dead dur2;
by domain_nowho edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=nwho3a;
run;
data nwho3a;
set nwho3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=nwho3a;
run;





data onlyhtn;
set mike.nhanes0912_domain2;
if domain_m3=1 and highbp=1 and cva=0 and ami=0 and chf=0 and ckd=0 and copd=0
and diab=0 and cancer=0 then domain_onlyhtn=1;
else if (domain_m3=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 or cancer=1)) 
or domain_m3=0 then domain_onlyhtn=0;
run;
proc sort data=onlyhtn;
by domain_onlyhtn edlevel;
run;
proc surveymeans data=onlyhtn sum stacking;
var dead dur2;
by domain_onlyhtn edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=onlyhtn3;
run;
data onlyhtn3;
set onlyhtn3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=onlyhtn3;
run;



data nonlyhtn;
set mike.nhanes0912_domain2;
if (domain_m3=1 and (highbp=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 
or cancer=1))) or (domain_m3=1 and highbp=0) then domain_onlyhtn=1;
else domain_onlyhtn=0;
run;
proc sort data=nonlyhtn;
by domain_onlyhtn edlevel;
run;

proc surveymeans data=nonlyhtn sum stacking;
var dead dur2;
by domain_onlyhtn edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=nonlyhtn3a;
run;
data nonlyhtn3a;
set nonlyhtn3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=nonlyhtn3a;
run;
















/* Men N3 */



data htn;
set mike.nhanes3_domain3;
if domain_m3=1 and highbp=1 then domain_bp=1;
else if (domain_m3=1 and highbp=0) or domain_m3=0 then domain_bp=0;
run;
proc sort data=htn;
by domain_bp edlevel;
run;
proc surveymeans data=htn sum stacking;
var dead dur2;
by domain_bp edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=htns;
run;
proc print data=htns;
run;
data htn1;
set htns;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=htn1;
run;



data nohtn;
set mike.nhanes3_domain3;
if domain_m3=1 and highbp=0 then domain_bp=1;
else if (domain_m3=1 and highbp=1) or domain_m3=0 then domain_bp=0;
run;
proc sort data=nohtn;
by domain_bp edlevel;
run;
proc surveymeans data=nohtn sum stacking;
var dead dur2;
by domain_bp edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=htnd;
run;
data htn2;
set htnd;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=htn2;
run;




data ami;
set mike.nhanes3_domain3;
if domain_m3=1 and ami=1 then domain_mi=1;
else if (domain_m3=1 and ami=0) or domain_m3=0 then domain_mi=0;
run;
proc sort data=ami;
by domain_mi edlevel;
run;
proc surveymeans data=ami sum stacking;
var dead dur2;
by domain_mi edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=mi2;
run;
data mi2;
set mi2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=mi2;
run;




data noami;
set mike.nhanes3_domain3;
if domain_m3=1 and ami=0 then domain_mi=1;
else if (domain_m3=1 and ami=1) or domain_m3=0 then domain_mi=0;
run;
proc sort data=noami;
by domain_mi edlevel;
run;
proc surveymeans data=noami sum stacking;
var dead dur2;
by domain_mi edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=ami2;
run;
data ami2;
set ami2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ami2;
run;




data cva;
set mike.nhanes3_domain3;
if domain_m3=1 and cva=1 then domain_cva=1;
else if (domain_m3=1 and cva=0) or domain_m3=0 then domain_cva=0;
run;
proc sort data=cva;
by domain_cva edlevel;
run;
proc surveymeans data=cva sum stacking;
var dead dur2;
by domain_cva edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=cva2;
run;
data cva2;
set cva2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cva2;
run;



data nocva;
set mike.nhanes3_domain3;
if domain_m3=1 and cva=0 then domain_cva=1;
else if (domain_m3=1 and cva=1) or domain_m3=0 then domain_cva=0;
run;
proc sort data=nocva;
by domain_cva edlevel;
run;
proc surveymeans data=nocva sum stacking;
var dead dur2;
by domain_cva edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=cva3;
run;
data cva3;
set cva3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cva3;
run;




data ckd;
set mike.nhanes3_domain3;
if domain_m3=1 and ckd=1 then domain_ckd=1;
else if (domain_m3=1 and ckd=0) or domain_m3=0 then domain_ckd=0;
run;
proc sort data=ckd;
by domain_ckd edlevel;
run;
proc surveymeans data=ckd sum stacking;
var dead dur2;
by domain_ckd edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=ckd3;
run;
data ckd3;
set ckd3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ckd3;
run;



data nockd;
set mike.nhanes3_domain3;
if domain_m3=1 and ckd=0 then domain_ckd=1;
else if (domain_m3=1 and ckd=1) or domain_m3=0 then domain_ckd=0;
run;
proc sort data=nockd;
by domain_ckd edlevel;
run;
proc surveymeans data=nockd sum stacking;
var dead dur2;
by domain_ckd edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=ckd4;
run;
data ckd4;
set ckd4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ckd4;
run;


data chf;
set mike.nhanes3_domain3;
if domain_m3=1 and chf=1 then domain_chf=1;
else if (domain_m3=1 and chf=0) or domain_m3=0 then domain_chf=0;
run;
proc sort data=chf;
by domain_chf edlevel;
run;
proc surveymeans data=chf sum stacking;
var dead dur2;
by domain_chf edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=chf3;
run;
data chf3;
set chf3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=chf3;
run;





data nochf;
set mike.nhanes3_domain3;
if domain_m3=1 and chf=0 then domain_chf=1;
else if (domain_m3=1 and chf=1) or domain_m3=0 then domain_chf=0;
run;
proc sort data=nochf;
by domain_chf edlevel;
run;
proc surveymeans data=nochf sum stacking;
var dead dur2;
by domain_chf edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=chf4;
run;
data chf4;
set chf4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=chf4;
run;





data copd;
set mike.nhanes3_domain3;
if domain_m3=1 and copd=1 then domain_copd=1;
else if (domain_m3=1 and copd=0) or domain_m3=0 then domain_copd=0;
run;
proc sort data=copd;
by domain_copd edlevel;
run;
proc surveymeans data=copd sum stacking;
var dead dur2;
by domain_copd edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=copd3;
run;
data copd3;
set copd3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=copd3;
run;


data nocopd;
set mike.nhanes3_domain3;
if domain_m3=1 and copd=0 then domain_copd=1;
else if (domain_m3=1 and copd=1) or domain_m3=0 then domain_copd=0;
run;
proc sort data=nocopd;
by domain_copd edlevel;
run;
proc surveymeans data=nocopd sum stacking;
var dead dur2;
by domain_copd edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=copd4;
run;
data copd4;
set copd4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=copd4;
run;







data cancer;
set mike.nhanes3_domain3;
if domain_m3=1 and cancer=1 then domain_cancer=1;
else if (domain_m3=1 and cancer=0) or domain_m3=0 then domain_cancer=0;
run;
proc sort data=cancer;
by domain_cancer edlevel;
run;
proc surveymeans data=cancer sum stacking;
var dead dur2;
by domain_cancer edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=cancer3;
run;
data cancer3;
set cancer3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cancer3;
run;



data nocancer;
set mike.nhanes3_domain3;
if domain_m3=1 and cancer=0 then domain_cancer=1;
else if (domain_m3=1 and cancer=1) or domain_m3=0 then domain_cancer=0;
run;
proc sort data=nocancer;
by domain_cancer edlevel;
run;
proc surveymeans data=nocancer sum stacking;
var dead dur2;
by domain_cancer edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=cancer4;
run;
data cancer4;
set cancer4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cancer4;
run;





data diab;
set mike.nhanes3_domain3;
if domain_m3=1 and diab=1 then domain_diab=1;
else if (domain_m3=1 and diab=0) or domain_m3=0 then domain_diab=0;
run;
proc sort data=diab;
by domain_diab edlevel;
run;
proc surveymeans data=diab sum stacking;
var dead dur2;
by domain_diab edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=diab3;
run;
data diab3;
set diab3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=diab3;
run;





data nodiab;
set mike.nhanes3_domain3;
if domain_m3=1 and diab=0 then domain_diab=1;
else if (domain_m3=1 and diab=1) or domain_m3=0 then domain_diab=0;
run;
proc sort data=nodiab;
by domain_diab edlevel;
run;
proc surveymeans data=nodiab sum stacking;
var dead dur2;
by domain_diab edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=diab4;
run;
data diab4;
set diab4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=diab4;
run;



data smoke;
set mike.nhanes3_domain3;
if domain_m3=1 and (smoke_4cat=1 or smoke_4cat=2) then domain_smoke=1;
else if (domain_m3=1 and (smoke_4cat=3 or smoke_4cat=4)) or domain_m3=0 then domain_smoke=0;
run;
proc sort data=smoke;
by domain_smoke edlevel;
run;
proc surveymeans data=smoke sum stacking;
var dead dur2;
by domain_smoke edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=smoke3;
run;
data smoke4;
set smoke3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=smoke4;
run;




data nosmoke;
set mike.nhanes3_domain3;
if domain_m3=1 and (smoke_4cat=3 or smoke_4cat=4) then domain_nosmoke=1;
else if (domain_m3=1 and (smoke_4cat=1 or smoke_4cat=2)) or domain_m3=0 then domain_nosmoke=0;
run;
proc sort data=nosmoke;
by domain_nosmoke edlevel;
run;
proc surveymeans data=nosmoke sum stacking;
var dead dur2;
by domain_nosmoke edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=smoke4;
run;
data smoke4;
set smoke4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=smoke4;
run;





data drink;
set mike.nhanes3_domain3;
if domain_m3=1 and (alcohol_cat=1 or alcohol_cat=2) then domain_drink=1;
else if (domain_m3=1 and alcohol_cat=0) or domain_m3=0 then domain_drink=0;
run;
proc sort data=drink;
by domain_drink edlevel;
run;
proc surveymeans data=drink sum stacking;
var dead dur2;
by domain_drink edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=drink3;
run;
data drink3;
set drink3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=drink3;
run;



data nodrink;
set mike.nhanes3_domain3;
if domain_m3=1 and alcohol_cat=0 then domain_nodrink=1;
else if (domain_m3=1 and (alcohol_cat=1 or alcohol_cat=2)) or domain_m3=0 then domain_nodrink=0;
run;
proc sort data=nodrink;
by domain_nodrink edlevel;
run;
proc surveymeans data=nodrink sum stacking;
var dead dur2;
by domain_nodrink edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=drink4;
run;
data drink4;
set drink4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=drink4;
run;






data waist;
set mike.nhanes3_domain3;
if domain_m3=1 and waist_cat=1 then domain_waist=1;
else if (domain_m3=1 and waist=0) or domain_m3=0 then domain_waist=0;
run;
proc sort data=waist;
by domain_waist edlevel;
run;
proc surveymeans data=waist sum stacking;
var dead dur2;
by domain_waist edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=waist3;
run;
data waist3;
set waist3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=waist3;
run;



data nowaist;
set mike.nhanes3_domain3;
if domain_m3=1 and waist_cat=0 then domain_nowaist=1;
else if (domain_m3=1 and waist_cat=1) or domain_m3=0 then domain_nowaist=0;
run;
proc sort data=nowaist;
by domain_nowaist edlevel;
run;
proc surveymeans data=nowaist sum stacking;
var dead dur2;
by domain_nowaist edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=waist3a;
run;
data waist3a;
set waist3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=waist3a;
run;





data who;
set mike.nhanes3_domain3;
if domain_m3=1 and bmi_cat=4 then domain_who=1;
else if (domain_m3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3)) or domain_m3=0 then domain_who=0;
run;
proc sort data=who;
by domain_who edlevel;
run;
proc surveymeans data=who sum stacking;
var dead dur2;
by domain_who edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=who3;
run;
data who3;
set who3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=who3;
run;





data nowho;
set mike.nhanes3_domain3;
if domain_m3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3) then domain_nowho=1;
else if (domain_m3=1 and bmi_cat=4) or domain_m3=0 then domain_nowho=0;
run;
proc sort data=nowho;
by domain_nowho edlevel;
run;
proc surveymeans data=nowho sum stacking;
var dead dur2;
by domain_nowho edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=nwho3a;
run;
data nwho3a;
set nwho3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=nwho3a;
run;





data onlyhtn;
set mike.nhanes3_domain3;
if domain_m3=1 and highbp=1 and cva=0 and ami=0 and chf=0 and ckd=0 and copd=0
and diab=0 and cancer=0 then domain_onlyhtn=1;
else if (domain_m3=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 or cancer=1)) 
or domain_m3=0 then domain_onlyhtn=0;
run;
proc sort data=onlyhtn;
by domain_onlyhtn edlevel;
run;
proc surveymeans data=onlyhtn sum stacking;
var dead dur2;
by domain_onlyhtn edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=onlyhtn3;
run;
data onlyhtn3;
set onlyhtn3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=onlyhtn3;
run;



data nonlyhtn;
set mike.nhanes3_domain3;
if (domain_m3=1 and (highbp=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 
or cancer=1))) or (domain_m3=1 and highbp=0) then domain_onlyhtn=1;
else domain_onlyhtn=0;
run;
proc sort data=nonlyhtn;
by domain_onlyhtn edlevel;
run;

proc surveymeans data=nonlyhtn sum stacking;
var dead dur2;
by domain_onlyhtn edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=nonlyhtn3a;
run;
data nonlyhtn3a;
set nonlyhtn3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=nonlyhtn3a;
run;






/* Women  */



data htn;
set mike.nhanes0912_domain2;
if domain_f3=1 and highbp=1 then domain_bp=1;
else if (domain_f3=1 and highbp=0) or domain_f3=0 then domain_bp=0;
run;
proc sort data=htn;
by domain_bp edlevel;
run;
proc surveymeans data=htn sum stacking;
var dead dur2;
by domain_bp edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=htns;
run;
proc print data=htns;
run;
data htn1;
set htns;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=htn1;
run;



data nohtn;
set mike.nhanes0912_domain2;
if domain_f3=1 and highbp=0 then domain_bp=1;
else if (domain_f3=1 and highbp=1) or domain_f3=0 then domain_bp=0;
run;
proc sort data=nohtn;
by domain_bp edlevel;
run;
proc surveymeans data=nohtn sum stacking;
var dead dur2;
by domain_bp edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=htnd;
run;
data htn2;
set htnd;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=htn2;
run;




data ami;
set mike.nhanes0912_domain2;
if domain_f3=1 and ami=1 then domain_mi=1;
else if (domain_f3=1 and ami=0) or domain_f3=0 then domain_mi=0;
run;
proc sort data=ami;
by domain_mi edlevel;
run;
proc surveymeans data=ami sum stacking;
var dead dur2;
by domain_mi edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=mi2;
run;
data mi2;
set mi2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=mi2;
run;




data noami;
set mike.nhanes0912_domain2;
if domain_f3=1 and ami=0 then domain_mi=1;
else if (domain_f3=1 and ami=1) or domain_f3=0 then domain_mi=0;
run;
proc sort data=noami;
by domain_mi edlevel;
run;
proc surveymeans data=noami sum stacking;
var dead dur2;
by domain_mi edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=ami2;
run;
data ami2;
set ami2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ami2;
run;




data cva;
set mike.nhanes0912_domain2;
if domain_f3=1 and cva=1 then domain_cva=1;
else if (domain_f3=1 and cva=0) or domain_f3=0 then domain_cva=0;
run;
proc sort data=cva;
by domain_cva edlevel;
run;
proc surveymeans data=cva sum stacking;
var dead dur2;
by domain_cva edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=cva2;
run;
data cva2;
set cva2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cva2;
run;



data nocva;
set mike.nhanes0912_domain2;
if domain_f3=1 and cva=0 then domain_cva=1;
else if (domain_f3=1 and cva=1) or domain_f3=0 then domain_cva=0;
run;
proc sort data=nocva;
by domain_cva edlevel;
run;
proc surveymeans data=nocva sum stacking;
var dead dur2;
by domain_cva edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=cva3;
run;
data cva3;
set cva3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cva3;
run;




data ckd;
set mike.nhanes0912_domain2;
if domain_f3=1 and ckd=1 then domain_ckd=1;
else if (domain_f3=1 and ckd=0) or domain_f3=0 then domain_ckd=0;
run;
proc sort data=ckd;
by domain_ckd edlevel;
run;
proc surveymeans data=ckd sum stacking;
var dead dur2;
by domain_ckd edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=ckd3;
run;
data ckd3;
set ckd3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ckd3;
run;



data nockd;
set mike.nhanes0912_domain2;
if domain_f3=1 and ckd=0 then domain_ckd=1;
else if (domain_f3=1 and ckd=1) or domain_f3=0 then domain_ckd=0;
run;
proc sort data=nockd;
by domain_ckd edlevel;
run;
proc surveymeans data=nockd sum stacking;
var dead dur2;
by domain_ckd edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=ckd4;
run;
data ckd4;
set ckd4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ckd4;
run;


data chf;
set mike.nhanes0912_domain2;
if domain_f3=1 and chf=1 then domain_chf=1;
else if (domain_f3=1 and chf=0) or domain_f3=0 then domain_chf=0;
run;
proc sort data=chf;
by domain_chf edlevel;
run;
proc surveymeans data=chf sum stacking;
var dead dur2;
by domain_chf edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=chf3;
run;
data chf3;
set chf3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=chf3;
run;





data nochf;
set mike.nhanes0912_domain2;
if domain_f3=1 and chf=0 then domain_chf=1;
else if (domain_f3=1 and chf=1) or domain_f3=0 then domain_chf=0;
run;
proc sort data=nochf;
by domain_chf edlevel;
run;
proc surveymeans data=nochf sum stacking;
var dead dur2;
by domain_chf edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=chf4;
run;
data chf4;
set chf4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=chf4;
run;





data copd;
set mike.nhanes0912_domain2;
if domain_f3=1 and copd=1 then domain_copd=1;
else if (domain_f3=1 and copd=0) or domain_f3=0 then domain_copd=0;
run;
proc sort data=copd;
by domain_copd edlevel;
run;
proc surveymeans data=copd sum stacking;
var dead dur2;
by domain_copd edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=copd3;
run;
data copd3;
set copd3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=copd3;
run;


data nocopd;
set mike.nhanes0912_domain2;
if domain_f3=1 and copd=0 then domain_copd=1;
else if (domain_f3=1 and copd=1) or domain_f3=0 then domain_copd=0;
run;
proc sort data=nocopd;
by domain_copd edlevel;
run;
proc surveymeans data=nocopd sum stacking;
var dead dur2;
by domain_copd edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=copd4;
run;
data copd4;
set copd4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=copd4;
run;







data cancer;
set mike.nhanes0912_domain2;
if domain_f3=1 and cancer=1 then domain_cancer=1;
else if (domain_f3=1 and cancer=0) or domain_f3=0 then domain_cancer=0;
run;
proc sort data=cancer;
by domain_cancer edlevel;
run;
proc surveymeans data=cancer sum stacking;
var dead dur2;
by domain_cancer edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=cancer3;
run;
data cancer3;
set cancer3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cancer3;
run;



data nocancer;
set mike.nhanes0912_domain2;
if domain_f3=1 and cancer=0 then domain_cancer=1;
else if (domain_f3=1 and cancer=1) or domain_f3=0 then domain_cancer=0;
run;
proc sort data=nocancer;
by domain_cancer edlevel;
run;
proc surveymeans data=nocancer sum stacking;
var dead dur2;
by domain_cancer edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=cancer4;
run;
data cancer4;
set cancer4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cancer4;
run;





data diab;
set mike.nhanes0912_domain2;
if domain_f3=1 and diab=1 then domain_diab=1;
else if (domain_f3=1 and diab=0) or domain_f3=0 then domain_diab=0;
run;
proc sort data=diab;
by domain_diab edlevel;
run;
proc surveymeans data=diab sum stacking;
var dead dur2;
by domain_diab edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=diab3;
run;
data diab3;
set diab3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=diab3;
run;





data nodiab;
set mike.nhanes0912_domain2;
if domain_f3=1 and diab=0 then domain_diab=1;
else if (domain_f3=1 and diab=1) or domain_f3=0 then domain_diab=0;
run;
proc sort data=nodiab;
by domain_diab edlevel;
run;
proc surveymeans data=nodiab sum stacking;
var dead dur2;
by domain_diab edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=diab4;
run;
data diab4;
set diab4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=diab4;
run;



data smoke;
set mike.nhanes0912_domain2;
if domain_f3=1 and (smoke_4cat=1 or smoke_4cat=2) then domain_smoke=1;
else if (domain_f3=1 and (smoke_4cat=3 or smoke_4cat=4)) or domain_f3=0 then domain_smoke=0;
run;
proc sort data=smoke;
by domain_smoke edlevel;
run;
proc surveymeans data=smoke sum stacking;
var dead dur2;
by domain_smoke edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=smoke3;
run;
data smoke3;
set smoke3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=smoke3;
run;





data nosmoke;
set mike.nhanes0912_domain2;
if domain_f3=1 and (smoke_4cat=3 or smoke_4cat=4) then domain_nosmoke=1;
else if (domain_f3=1 and (smoke_4cat=1 or smoke_4cat=2)) or domain_f3=0 then domain_nosmoke=0;
run;
proc sort data=nosmoke;
by domain_nosmoke edlevel;
run;
proc surveymeans data=nosmoke sum stacking;
var dead dur2;
by domain_nosmoke edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=smoke4;
run;
data smoke4;
set smoke4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=smoke4;
run;





data drink;
set mike.nhanes0912_domain2;
if domain_f3=1 and (alcohol_cat=1 or alcohol_cat=2) then domain_drink=1;
else if (domain_f3=1 and alcohol_cat=0) or domain_f3=0 then domain_drink=0;
run;
proc sort data=drink;
by domain_drink edlevel;
run;
proc surveymeans data=drink sum stacking;
var dead dur2;
by domain_drink edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=drink3;
run;
data drink3;
set drink3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=drink3;
run;



data nodrink;
set mike.nhanes0912_domain2;
if domain_f3=1 and alcohol_cat=0 then domain_nodrink=1;
else if (domain_f3=1 and (alcohol_cat=1 or alcohol_cat=2)) or domain_f3=0 then domain_nodrink=0;
run;
proc sort data=nodrink;
by domain_nodrink edlevel;
run;
proc surveymeans data=nodrink sum stacking;
var dead dur2;
by domain_nodrink edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=drink4;
run;
data drink4;
set drink4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=drink4;
run;






data waist;
set mike.nhanes0912_domain2;
if domain_f3=1 and waist_cat=1 then domain_waist=1;
else if (domain_f3=1 and waist=0) or domain_f3=0 then domain_waist=0;
run;
proc sort data=waist;
by domain_waist edlevel;
run;
proc surveymeans data=waist sum stacking;
var dead dur2;
by domain_waist edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=waist3;
run;
data waist3;
set waist3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=waist3;
run;



data nowaist;
set mike.nhanes0912_domain2;
if domain_f3=1 and waist_cat=0 then domain_nowaist=1;
else if (domain_f3=1 and waist_cat=1) or domain_f3=0 then domain_nowaist=0;
run;
proc sort data=nowaist;
by domain_nowaist edlevel;
run;
proc surveymeans data=nowaist sum stacking;
var dead dur2;
by domain_nowaist edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=waist3a;
run;
data waist3a;
set waist3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=waist3a;
run;





data who;
set mike.nhanes0912_domain2;
if domain_f3=1 and bmi_cat=4 then domain_who=1;
else if (domain_f3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3)) or domain_f3=0 then domain_who=0;
run;
proc sort data=who;
by domain_who edlevel;
run;
proc surveymeans data=who sum stacking;
var dead dur2;
by domain_who edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=who3;
run;
data who3;
set who3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=who3;
run;





data nowho;
set mike.nhanes0912_domain2;
if domain_f3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3) then domain_nowho=1;
else if (domain_f3=1 and bmi_cat=4) or domain_f3=0 then domain_nowho=0;
run;
proc sort data=nowho;
by domain_nowho edlevel;
run;
proc surveymeans data=nowho sum stacking;
var dead dur2;
by domain_nowho edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=nwho3a;
run;
data nwho3a;
set nwho3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=nwho3a;
run;





data onlyhtn;
set mike.nhanes0912_domain2;
if domain_f3=1 and highbp=1 and cva=0 and ami=0 and chf=0 and ckd=0 and copd=0
and diab=0 and cancer=0 then domain_onlyhtn=1;
else if (domain_f3=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 or cancer=1)) 
or domain_f3=0 then domain_onlyhtn=0;
run;
proc sort data=onlyhtn;
by domain_onlyhtn edlevel;
run;
proc surveymeans data=onlyhtn sum stacking;
var dead dur2;
by domain_onlyhtn edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=onlyhtn3;
run;
data onlyhtn3;
set onlyhtn3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=onlyhtn3;
run;



data nonlyhtn;
set mike.nhanes0912_domain2;
if (domain_f3=1 and (highbp=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 
or cancer=1))) or (domain_f3=1 and highbp=0) then domain_onlyhtn=1;
else domain_onlyhtn=0;
run;
proc sort data=nonlyhtn;
by domain_onlyhtn edlevel;
run;

proc surveymeans data=nonlyhtn sum stacking;
var dead dur2;
by domain_onlyhtn edlevel;
stratum stratum;
cluster psu;
weight weight4y;
ods output statistics=nonlyhtn3a;
run;
data nonlyhtn3a;
set nonlyhtn3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=nonlyhtn3a;
run;
















/* women N3 */



data htn;
set mike.nhanes3_domain3;
if domain_f3=1 and highbp=1 then domain_bp=1;
else if (domain_f3=1 and highbp=0) or domain_f3=0 then domain_bp=0;
run;
proc sort data=htn;
by domain_bp edlevel;
run;
proc surveymeans data=htn sum stacking;
var dead dur2;
by domain_bp edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=htns;
run;
proc print data=htns;
run;
data htn1;
set htns;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=htn1;
run;



data nohtn;
set mike.nhanes3_domain3;
if domain_f3=1 and highbp=0 then domain_bp=1;
else if (domain_f3=1 and highbp=1) or domain_f3=0 then domain_bp=0;
run;
proc sort data=nohtn;
by domain_bp edlevel;
run;
proc surveymeans data=nohtn sum stacking;
var dead dur2;
by domain_bp edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=htnd;
run;
data htn2;
set htnd;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=htn2;
run;




data ami;
set mike.nhanes3_domain3;
if domain_f3=1 and ami=1 then domain_mi=1;
else if (domain_f3=1 and ami=0) or domain_f3=0 then domain_mi=0;
run;
proc sort data=ami;
by domain_mi edlevel;
run;
proc surveymeans data=ami sum stacking;
var dead dur2;
by domain_mi edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=mi2;
run;
data mi2;
set mi2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=mi2;
run;




data noami;
set mike.nhanes3_domain3;
if domain_f3=1 and ami=0 then domain_mi=1;
else if (domain_f3=1 and ami=1) or domain_f3=0 then domain_mi=0;
run;
proc sort data=noami;
by domain_mi edlevel;
run;
proc surveymeans data=noami sum stacking;
var dead dur2;
by domain_mi edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=ami2;
run;
data ami2;
set ami2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ami2;
run;




data cva;
set mike.nhanes3_domain3;
if domain_f3=1 and cva=1 then domain_cva=1;
else if (domain_f3=1 and cva=0) or domain_f3=0 then domain_cva=0;
run;
proc sort data=cva;
by domain_cva edlevel;
run;
proc surveymeans data=cva sum stacking;
var dead dur2;
by domain_cva edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=cva2;
run;
data cva2;
set cva2;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cva2;
run;



data nocva;
set mike.nhanes3_domain3;
if domain_f3=1 and cva=0 then domain_cva=1;
else if (domain_f3=1 and cva=1) or domain_f3=0 then domain_cva=0;
run;
proc sort data=nocva;
by domain_cva edlevel;
run;
proc surveymeans data=nocva sum stacking;
var dead dur2;
by domain_cva edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=cva3;
run;
data cva3;
set cva3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cva3;
run;




data ckd;
set mike.nhanes3_domain3;
if domain_f3=1 and ckd=1 then domain_ckd=1;
else if (domain_f3=1 and ckd=0) or domain_f3=0 then domain_ckd=0;
run;
proc sort data=ckd;
by domain_ckd edlevel;
run;
proc surveymeans data=ckd sum stacking;
var dead dur2;
by domain_ckd edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=ckd3;
run;
data ckd3;
set ckd3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ckd3;
run;



data nockd;
set mike.nhanes3_domain3;
if domain_f3=1 and ckd=0 then domain_ckd=1;
else if (domain_f3=1 and ckd=1) or domain_f3=0 then domain_ckd=0;
run;
proc sort data=nockd;
by domain_ckd edlevel;
run;
proc surveymeans data=nockd sum stacking;
var dead dur2;
by domain_ckd edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=ckd4;
run;
data ckd4;
set ckd4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=ckd4;
run;


data chf;
set mike.nhanes3_domain3;
if domain_f3=1 and chf=1 then domain_chf=1;
else if (domain_f3=1 and chf=0) or domain_f3=0 then domain_chf=0;
run;
proc sort data=chf;
by domain_chf edlevel;
run;
proc surveymeans data=chf sum stacking;
var dead dur2;
by domain_chf edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=chf3;
run;
data chf3;
set chf3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=chf3;
run;





data nochf;
set mike.nhanes3_domain3;
if domain_f3=1 and chf=0 then domain_chf=1;
else if (domain_f3=1 and chf=1) or domain_f3=0 then domain_chf=0;
run;
proc sort data=nochf;
by domain_chf edlevel;
run;
proc surveymeans data=nochf sum stacking;
var dead dur2;
by domain_chf edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=chf4;
run;
data chf4;
set chf4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=chf4;
run;





data copd;
set mike.nhanes3_domain3;
if domain_f3=1 and copd=1 then domain_copd=1;
else if (domain_f3=1 and copd=0) or domain_f3=0 then domain_copd=0;
run;
proc sort data=copd;
by domain_copd edlevel;
run;
proc surveymeans data=copd sum stacking;
var dead dur2;
by domain_copd edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=copd3;
run;
data copd3;
set copd3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=copd3;
run;


data nocopd;
set mike.nhanes3_domain3;
if domain_f3=1 and copd=0 then domain_copd=1;
else if (domain_f3=1 and copd=1) or domain_f3=0 then domain_copd=0;
run;
proc sort data=nocopd;
by domain_copd edlevel;
run;
proc surveymeans data=nocopd sum stacking;
var dead dur2;
by domain_copd edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=copd4;
run;
data copd4;
set copd4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=copd4;
run;







data cancer;
set mike.nhanes3_domain3;
if domain_f3=1 and cancer=1 then domain_cancer=1;
else if (domain_f3=1 and cancer=0) or domain_f3=0 then domain_cancer=0;
run;
proc sort data=cancer;
by domain_cancer edlevel;
run;
proc surveymeans data=cancer sum stacking;
var dead dur2;
by domain_cancer edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=cancer3;
run;
data cancer3;
set cancer3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cancer3;
run;



data nocancer;
set mike.nhanes3_domain3;
if domain_f3=1 and cancer=0 then domain_cancer=1;
else if (domain_f3=1 and cancer=1) or domain_f3=0 then domain_cancer=0;
run;
proc sort data=nocancer;
by domain_cancer edlevel;
run;
proc surveymeans data=nocancer sum stacking;
var dead dur2;
by domain_cancer edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=cancer4;
run;
data cancer4;
set cancer4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=cancer4;
run;





data diab;
set mike.nhanes3_domain3;
if domain_f3=1 and diab=1 then domain_diab=1;
else if (domain_f3=1 and diab=0) or domain_f3=0 then domain_diab=0;
run;
proc sort data=diab;
by domain_diab edlevel;
run;
proc surveymeans data=diab sum stacking;
var dead dur2;
by domain_diab edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=diab3;
run;
data diab3;
set diab3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=diab3;
run;





data nodiab;
set mike.nhanes3_domain3;
if domain_f3=1 and diab=0 then domain_diab=1;
else if (domain_f3=1 and diab=1) or domain_f3=0 then domain_diab=0;
run;
proc sort data=nodiab;
by domain_diab edlevel;
run;
proc surveymeans data=nodiab sum stacking;
var dead dur2;
by domain_diab edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=diab4;
run;
data diab4;
set diab4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=diab4;
run;



data smoke;
set mike.nhanes3_domain3;
if domain_f3=1 and (smoke_4cat=1 or smoke_4cat=2) then domain_smoke=1;
else if (domain_f3=1 and (smoke_4cat=3 or smoke_4cat=4)) or domain_f3=0 then domain_smoke=0;
run;
proc sort data=smoke;
by domain_smoke edlevel;
run;
proc surveymeans data=smoke sum stacking;
var dead dur2;
by domain_smoke edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=smoke3;
run;
data smoke3;
set smoke3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=smoke3;
run;





data nosmoke;
set mike.nhanes3_domain3;
if domain_f3=1 and (smoke_4cat=3 or smoke_4cat=4) then domain_nosmoke=1;
else if (domain_f3=1 and (smoke_4cat=1 or smoke_4cat=2)) or domain_f3=0 then domain_nosmoke=0;
run;
proc sort data=nosmoke;
by domain_nosmoke edlevel;
run;
proc surveymeans data=nosmoke sum stacking;
var dead dur2;
by domain_nosmoke edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=smoke4;
run;
data smoke4;
set smoke4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=smoke4;
run;





data drink;
set mike.nhanes3_domain3;
if domain_f3=1 and (alcohol_cat=1 or alcohol_cat=2) then domain_drink=1;
else if (domain_f3=1 and alcohol_cat=0) or domain_f3=0 then domain_drink=0;
run;
proc sort data=drink;
by domain_drink edlevel;
run;
proc surveymeans data=drink sum stacking;
var dead dur2;
by domain_drink edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=drink3;
run;
data drink3;
set drink3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=drink3;
run;



data nodrink;
set mike.nhanes3_domain3;
if domain_f3=1 and alcohol_cat=0 then domain_nodrink=1;
else if (domain_f3=1 and (alcohol_cat=1 or alcohol_cat=2)) or domain_f3=0 then domain_nodrink=0;
run;
proc sort data=nodrink;
by domain_nodrink edlevel;
run;
proc surveymeans data=nodrink sum stacking;
var dead dur2;
by domain_nodrink edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=drink4;
run;
data drink4;
set drink4;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=drink4;
run;






data waist;
set mike.nhanes3_domain3;
if domain_f3=1 and waist_cat=1 then domain_waist=1;
else if (domain_f3=1 and waist=0) or domain_f3=0 then domain_waist=0;
run;
proc sort data=waist;
by domain_waist edlevel;
run;
proc surveymeans data=waist sum stacking;
var dead dur2;
by domain_waist edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=waist3;
run;
data waist3;
set waist3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=waist3;
run;



data nowaist;
set mike.nhanes3_domain3;
if domain_f3=1 and waist_cat=0 then domain_nowaist=1;
else if (domain_f3=1 and waist_cat=1) or domain_f3=0 then domain_nowaist=0;
run;
proc sort data=nowaist;
by domain_nowaist edlevel;
run;
proc surveymeans data=nowaist sum stacking;
var dead dur2;
by domain_nowaist edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=waist3a;
run;
data waist3a;
set waist3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=waist3a;
run;





data who;
set mike.nhanes3_domain3;
if domain_f3=1 and bmi_cat=4 then domain_who=1;
else if (domain_f3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3)) or domain_f3=0 then domain_who=0;
run;
proc sort data=who;
by domain_who edlevel;
run;
proc surveymeans data=who sum stacking;
var dead dur2;
by domain_who edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=who3;
run;
data who3;
set who3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=who3;
run;





data nowho;
set mike.nhanes3_domain3;
if domain_f3=1 and (bmi_cat=1 or bmi_cat=2 or bmi_cat=3) then domain_nowho=1;
else if (domain_f3=1 and bmi_cat=4) or domain_f3=0 then domain_nowho=0;
run;
proc sort data=nowho;
by domain_nowho edlevel;
run;
proc surveymeans data=nowho sum stacking;
var dead dur2;
by domain_nowho edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=nwho3a;
run;
data nwho3a;
set nwho3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=nwho3a;
run;





data onlyhtn;
set mike.nhanes3_domain3;
if domain_f3=1 and highbp=1 and cva=0 and ami=0 and chf=0 and ckd=0 and copd=0
and diab=0 and cancer=0 then domain_onlyhtn=1;
else if (domain_f3=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 or cancer=1)) 
or domain_f3=0 then domain_onlyhtn=0;
run;
proc sort data=onlyhtn;
by domain_onlyhtn edlevel;
run;
proc surveymeans data=onlyhtn sum stacking;
var dead dur2;
by domain_onlyhtn edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=onlyhtn3;
run;
data onlyhtn3;
set onlyhtn3;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=onlyhtn3;
run;



data nonlyhtn;
set mike.nhanes3_domain3;
if (domain_f3=1 and (highbp=1 and (cva=1 or ami=1 or chf=1 or ckd=1 or copd=1 or diab=1 
or cancer=1))) or (domain_f3=1 and highbp=0) then domain_onlyhtn=1;
else domain_onlyhtn=0;
run;
proc sort data=nonlyhtn;
by domain_onlyhtn edlevel;
run;

proc surveymeans data=nonlyhtn sum stacking;
var dead dur2;
by domain_onlyhtn edlevel;
stratum stratum6;
cluster psu6;
weight wtpfex6;
ods output statistics=nonlyhtn3a;
run;
data nonlyhtn3a;
set nonlyhtn3a;
rate=(dead_sum/dur2_sum)*100000;
run;
proc print data=nonlyhtn3a;
run;





















































